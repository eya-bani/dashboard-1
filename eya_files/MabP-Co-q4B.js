;/*FB_PKG_DELIM*/

__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6208823099149199"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuid"],(function(a,b,c,d,e,f,g){"use strict";c("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuid")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:3116")(b("cr:2998"),a)}g["default"]=a}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",[0,73],d[1],f,f,[0,0],[0,0],f,f,[0,0]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",[0,72],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueSetThreadImageTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("image_id",a[1]),d[2].set("emoji",a[2]),d[2].set("gradient",a[3]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"thread_image",[0,37],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(e){return d[5]=c.i64.div(c.i64.of_float(Date.now()),[0,1e3]),d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("timestamp",d[5]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),[0,438],d[4],f,f,[0,0],[0,0],f,f,[0,0])},function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[5]})})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[5]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[4],d[5],f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",[0,279],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",[0,235],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,192],d[5],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return d[2]=[0,1]}]):(g=e.item,c.seq([function(e){return d[4]=g.nextCheckTimestampMs,c.i64.neq(d[4],f)&&c.i64.ge(c.i64.of_float(Date.now()),d[4])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[6]=new c.Map(),d[6].set("thread_key",a[0]),d[6].set("sync_group",d[0]),d[7]=c.toJSON(d[6]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,192],d[7],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return d[5]=[0,1]}]):c.resolve((c.i64.neq(d[4],f)&&g.tag!==f?d[6]=[0,2]:d[6]=[0,3],d[5]=d[6]))},function(a){return d[2]=d[5]}]))})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",[0,0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],[0,3],d[1])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("GroupsCometChatImagePersonalizationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5090234437701733"}),null);
__d("GroupsCometChatImagePersonalizationDialogQuery$Parameters",["GroupsCometChatImagePersonalizationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatImagePersonalizationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatImagePersonalizationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048846461842440"}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5305811016137974"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5936148239732069"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5349888481799549"}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"}],c=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Literal",name:"trigger",value:"MESSENGER_THREAD_OPEN"},{fields:[{fields:[{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometQuickPromotionInboxThreadViewBannerRendererStrategy"]}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:["CometQuickPromotionInboxThreadViewBannerRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometQuickPromotionInboxThreadViewBannerRendererStrategy"]}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:["CometQuickPromotionInboxThreadViewBannerRendererStrategy"])'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GroupsCometChatImagePersonalizationDialog.entrypoint",["GroupsCometChatImagePersonalizationDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("GroupsCometChatImagePersonalizationDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("GroupsCometChatImagePersonalizationDialog.react").__setRef("GroupsCometChatImagePersonalizationDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("ReStoreVaulting.bs",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreVaulting").maybeVault(a)}function b(a){return d("ReStoreVaulting").maybeUnvault(a)}g.maybeVault=a;g.maybeUnvault=b}),98);
__d("MWLSAdContextCtaParser.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=new Set(["ads_context"]);function a(a){var b=h.useRef(null);a=c("useCometLazyDialog")(c("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var d=a[0];return function(a,c){var e=c.ctaType;if(e==="ads_context")return{_0:function(b){return d({adId:c.ctaId,onClose:function(a){},threadKey:a.banner.threadKey},function(a){})},_1:b,TAG:1};else return{_0:void 0,TAG:3}}}g.adContextCta=b;g.useHook=a}),98);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSRequestAdContextFromThreadKey","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var a=b.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKey")(e,d("LS.bs").make(a))},"readwrite");c("promiseDone")(a)},[e,b])}g.useHook=a}),98);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSMWChatHeaderDetailsSubtitleIcons$OR$TetraMWChatHeaderDetailsSubtitleIcons$requireCond=b("cr:1737008"),g.Muted=b("cr:1737008").Muted}),98);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.bs","MWChatHeaderDetailsSubtitleIcons.bs","MWLSThread.bs","MWThread_DEPRECATED.bs","MWTooltip.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.actorAttribution,d=a.isActiveNow,e=a.isMuted;a=a.isOngoingCall;var f=b("MWThread_DEPRECATED.bs").useIdExn();f=b("MWThread_DEPRECATED.bs").toThreadKey(f);f=b("MWLSThread.bs").useThread(f);var i,k=0;f!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType)?i=j.jsx(b("MWCMInboxHeaderCommunityGroupName.react"),{thread:f}):k=1;k===1&&(i=a?g._("__JHASH__440_c1t5rby__JHASH__"):d?g._("__JHASH__u26x21RxFUk__JHASH__"):c!==void 0?c:null);f=e&&i!==null?j.jsx(b("CometMiddot.react"),{}):null;k=e?j.jsx(b("MWTooltip.react"),{align:"start",position:"above",tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__"),children:j.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(h("636130"),12),testid:void 0})}):null;return j.jsxs(j.Fragment,{children:[i,f,k]})}function c(a){return g._("__JHASH__u26x21RxFUk__JHASH__")}function d(a){a=a.forceInlineDisplay;var c={align:"start",children:b("bs_curry")._1(b("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon),position:"above",tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__")};a!==void 0&&(c.forceInlineDisplay=a);return j.jsx(b("MWTooltip.react"),babelHelpers["extends"]({},c))}d.displayName=d.name+" [from "+e.id+"]";function k(a){return g._("__JHASH__440_c1t5rby__JHASH__")}e=a;a=c;c=d;d=k;f.make=e;f.activeNow=a;f.mutedIcon=c;f.ongoingCall=d}),null);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSMWChatRTCButtonIcons$OR$TetraMWChatRTCButtonIcons$requireCond=a=b("cr:1755417");g.$$Audio=a.$$Audio;g.Video=a.Video;g.Info=a.Info}),98);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";b={icon:a};g.Muted=b}),98);
__d("TetraMWChatRTCButtonIcons.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsxs("svg",{height:b,role:"presentation",viewBox:"-5 -5 30 30",width:b,children:[h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:a})]})}a.displayName=a.name+" [from "+f.id+"]";e={icon:a};function b(a,b,c){c=c!==void 0?c:!1;var d=c?"-3":"-5";return h.jsxs("svg",{height:b,role:"presentation",viewBox:d+" -5 30 30",width:b,children:[h.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),c?h.jsx("circle",{className:"x1xgahvj",cx:"24",cy:"10",r:"2"}):null]})}b.displayName=b.name+" [from "+f.id+"]";d={icon:b};function c(a,b){return h.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",children:h.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:h.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a,stroke:a},"lens")})})}c.displayName=c.name+" [from "+f.id+"]";a={icon:c};g.$$Audio=e;g.Video=d;g.Info=a}),98);
__d("MAWPSafetyNoticesChatBlockedComposer.react",["cr:4333"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4333")}),98);
__d("MWComposerDisclosureContainer.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return h.jsx("div",{"data-testid":void 0,style:c("gkx")("6189")?i.root_new_layout_for_horizontal_buttons:i.root,children:h.jsx("div",{style:c("gkx")("6189")?i.inner_new_layout_for_horizontal_buttons:i.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerGroupMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","MWComposerDisclosureContainer.react","MWIsXacGroupThread.bs","MWLSThread.bs","MWText.react","MWThreadKey.bs","MWVerticalRhythm","MessageRequestsLog.bs","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onDeleteConversation;a=a.onLeaveGroup;var e=d("MWThreadKey.bs").useIdMemoizedExn(),f=d("MWLSThread.bs").useThreadExn(e);e=d("MWIsXacGroupThread.bs").check(f);i.useEffect(function(){d("MessageRequestsLog.bs").logMessageRequestInfoShown(f)},[]);var g=i.useRef(null);return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[e?i.jsxs(i.Fragment,{children:[i.jsx(c("MWText.react"),{color:"secondary",type:"entityHeaderMeta3",children:h._("__JHASH__Zo8nGcr-Wbu__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:8})]}):null,i.jsxs(c("MWText.react"),{color:"secondary",type:"body4",children:[e?h._("__JHASH__dGW95F1FSGX__JHASH__"):h._("__JHASH__8Xn13sU52xi__JHASH__"),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onDeleteConversation:b,onLeaveGroup:a},dialogResource:c("JSResource")("MWChatDeclineGroupMessageRequestDialogForJSResource.react").__setRef("MWChatComposerGroupMessageRequestInfoText.bs"),children:function(a){return i.jsx(c("CometPressable.react"),{onPress:function(b){d("MessageRequestsLog.bs").logDenialOptionsTapped(f);return c("bs_curry")._1(a)},overlayDisabled:!0,ref:g,testid:void 0,children:i.jsx(c("MWText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__3yIVRKHeTer__JHASH__")})})}})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatComposerVoiceIndicator.bs",["fbt","CurrentUser","MDSTextPairing.react","MWText.react","getTopMostRoute","react","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.forceShown_TEST_ONLY;a=a!==void 0?a:!1;var b=c("useCometRouterState")(),d;if(b==null)d=!1;else{b=c("getTopMostRoute")(b).tracePolicy;d=b!==void 0?b.startsWith("comet.page.admin")||b.startsWith("comet.group.admin"):!1}b=c("CurrentUser").getName();b=h._("__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",i.jsx(c("MWText.react"),{type:"meta2",children:b}))]);if(d||a)return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xkrivgy xat24cr x1gryazu xyinxu5 xho0xa1 xs9asl8 x1vobaek",children:i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:b}),level:4,textAlign:"center"})});else return null}b=a;g.make=b}),98);
__d("MWChatHotlikeEmitter.bs",["bs_curry"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:0};function a(a){var b=new Map();return{notify:function(a){b.forEach(function(d,b,e){return c("bs_curry")._1(d,a)})},subscribe:function(a){var c=h.contents;h.contents=h.contents+1|0;b.set(c,a);return function(a){return b["delete"](c)}}}}b=h;d=a;g.i=b;g.createEmitter=d}),98);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=8659;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:j}),f=e.xacThreadDisclosureNux;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:f!=null?i.jsx(d("CometRelay").MatchContainer,{match:f,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:e.xacThreadDisclosureNux,size:a.size}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContactDetails.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return a.name}function b(a){if(a===void 0)return;var b=a.firstName;if(b!==void 0)return b;else return a.name}function c(a){if(a!==void 0)return a.secondaryName}d=a;e=b;a=c;f.getName=d;f.getShortName=e;f.getSecondaryName=a}),66);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","MDSTextPairing.react","MWComposerDisclosureContainer.react","MWContactDetails.bs","MWMessageRequestSharedTexts.bs","MWText.react","MWVerticalRhythm","MessageRequestsLog.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_format","bs_curry","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onDeleteConversation,e=a.thread;a=c("bs_int64").to_string(e.threadKey);var f=a,g=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(f),tl:0})},[f,g]));var j=d("MWContactDetails.bs").getName(a);j=j!==void 0?j:h._("__JHASH__AaE4hJExM0x__JHASH__");var k=d("MWContactDetails.bs").getShortName(a);k=k!==void 0?k:h._("__JHASH__AaE4hJExM0x__JHASH__");a=d("MWContactDetails.bs").getSecondaryName(a);a=a!==void 0&&a!==""?a:void 0;var l=a!==void 0?i.jsx(c("MWText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__CEpoRXODTMn__JHASH__")}):null,m=a!==void 0?j!==a?h._("__JHASH__tV1eV-071mI__JHASH__",[h._param("IGDisplayName",j),h._param("IGUserName",a)]):h._("__JHASH__U6KCI1_eCqE__JHASH__",[h._param("IGUserName",a)]):d("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(j),n=a!==void 0?j!==a?h._("__JHASH__EaJEM7eOV5r__JHASH__",[h._param("name",j),h._param("username",a)]):h._("__JHASH__X8pIS11uEl0__JHASH__",[h._param("username",a)]):d("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(j),o=i.useRef(null);i.useEffect(function(){d("MessageRequestsLog.bs").logMessageRequestInfoShown(e)},[]);return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:m}),headline:l,level:4,textAlign:"center"}),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onDeleteConversation:b,otherUserFbid:f,otherUserName:j,otherUserSecondaryName:a,otherUserShortName:k},dialogResource:c("JSResource")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs"),children:function(a){return i.jsx(c("CometPressable.react"),{onPress:function(b){d("MessageRequestsLog.bs").logDenialOptionsTapped(e);return c("bs_curry")._1(a)},overlayDisabled:!0,ref:o,testid:void 0,children:i.jsx(c("MWText.react"),{color:"primary",type:"bodyLink4",children:n})})}})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),d=b[0],e=function(){a.onClose()};return h.jsx(c("TetraButton.react"),{label:a.label,onPress:function(){a.setPWDismissTime(),a.onPress(),d({flowCallbacks:{onClose:e}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2898");c=b("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e.exports=c}),null);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2899");c=b("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e.exports=c}),null);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2900");c=b("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e.exports=c}),null);
__d("MWLSInThreadBanner.bs",["ReQL.bs","ReQLSuspense","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";b={bannerCtaId:void 0,bannerCtaType:void 0,bannerId:c("bs_caml_int64").zero,chevronCtaId:void 0,chevronCtaType:void 0,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,heading:void 0,iconUrl:void 0,iconUrlExpirationTimestampMs:void 0,iconUrlFallback:void 0,infoLabel:void 0,threadKey:c("bs_caml_int64").zero,timestampMs:c("bs_caml_int64").zero,titleSectionOne:void 0,titleSectionTwo:void 0};e={actionContentBlob:void 0,bannerId:c("bs_caml_int64").zero,contextId:void 0,ctaId:c("bs_caml_int64").zero,ctaTitle:"",ctaType:"fallback",deeplinkUrl:void 0,threadKey:c("bs_caml_int64").zero,webviewUrl:void 0};f=[];f={banner:b,bannerAction:void 0,leftButton:void 0,overflowMenuActions:f,rightButton:void 0};function a(a,b){return d("ReQL.bs").map(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("in_thread_banner")),{hd:b,tl:0}),d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("in_thread_banner_overflow_menu")),{hd:b,tl:0})),function(b){var e=b[1];b=b[0];var f=new Map(d("ReQLSuspense").toArray(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("in_thread_banner_ctas")),{hd:b.bannerId,tl:0}),function(a){return[c("bs_int64").to_string(a.ctaId),a]}))),g=function(a){return c("bs_caml_option").nullable_to_opt(f.get(c("bs_int64").to_string(a)))};return{banner:b,bannerAction:c("bs_belt_Option").flatMap(b.bannerCtaId,g),leftButton:c("bs_belt_Option").flatMap(b.cta1Id,g),overflowMenuActions:e!==void 0?c("bs_belt_Array").keepMap([e.cta1Id,e.cta2Id,e.cta3Id,e.cta4Id,e.cta5Id],function(a){return c("bs_belt_Option").flatMap(a,g)}):[],rightButton:c("bs_belt_Option").flatMap(b.cta2Id,g)}})}var h={bannerId:c("bs_caml_int64").zero,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,cta3Id:void 0,cta3Title:void 0,cta3Type:void 0,cta4Id:void 0,cta4Title:void 0,cta4Type:void 0,cta5Id:void 0,cta5Title:void 0,cta5Type:void 0,threadKey:c("bs_caml_int64").zero};b=b;e=e;h=h;f=f;a=a;g.emptyBanner=b;g.emptyCta=e;g.emptyMenu=h;g.empty=f;g.getInThread=a}),98);
__d("MWLSProactiveWarningTables.bs",["MWLSInThreadBanner.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWThreadKey.bs").useIdMemoizedExn(),e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("MWLSInThreadBanner.bs").getInThread(e,b)},[e,JSON.stringify(b)]));var f=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("thread_proactive_warning_settings")),{hd:b,tl:0})},[e,JSON.stringify(b)]));return{banner:a,pwSettings:f}}b=a;g.useHook=b}),98);
__d("MWProactiveWarningPayload.bs",["LsThreadType.bs","MWLSProactiveWarningTables.bs","MWThreadKey.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=d("MWThreadKey.bs").useIdMemoizedExn(),f=a!==void 0?a:!1;a=d("MWLSProactiveWarningTables.bs").useHook();var g=a.banner,i=a.pwSettings,j=b!==void 0?c("bs_caml").i64_eq(c("bs_belt_Option").getWithDefault(b.proactiveWarningDismissTime,c("bs_caml_int64").zero),c("bs_caml_int64").zero):!1;return h.useMemo(function(){if(i===void 0)return;if(g===void 0)return;if(!((f||j)&&c("bs_caml").i64_eq(g.banner.bannerId,[0,7])))return;var a=i.context,b=g.banner.heading;if(a===void 0)return;if(b===void 0)return;var h=i.storyLocation,k=i.entryPoint;if(h===void 0)return;if(k===void 0)return;var l=g.banner.cta1Title,m=g.banner.cta2Title;if(l===void 0)return;if(m===void 0)return;var n=g.banner.titleSectionOne,o=i.tag;if(n===void 0)return;if(o===void 0)return;var p=i.suspectId;if(p!==void 0)return{context:a,cta1Title:l,cta2Title:m,description:n,falco_event_data:{data:{entry_point:c("bs_caml_int64").to_int32(k),error_string:void 0,evidence_source:void 0,feedback_secondary_tags:void 0,feedback_tags:[o],is_other_user_mo:void 0,mute_duration:void 0,selected_messages_count:void 0,surface:c("bs_caml_int64").to_int32(h),time_to_report:void 0},impersonatedUser:{id:"0"},otherUser:{id:c("bs_int64").to_string(p)},reportedUser:{id:"0"},thread:{id:c("bs_int64").to_string(e),type:c("bs_caml_int64").to_int32(d("LsThreadType.bs").oneToOne)}},header:b,threadKey:e}},[JSON.stringify(e),i!==void 0,g!==void 0,j,f])}b=a;g.useHook=b}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","IXTProactiveWarningFollowUpActionsCell.react","LS.re","LSSetProactiveWarningDismissTime","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWProactiveWarningPayload.bs","MWText.react","MWThreadKey.bs","TetraButton.react","promiseDone","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k={button:{width:"x5sxuk9",$$css:!0},buttonsContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",marginTop:"x14vqqas",width:"xh8yej3",$$css:!0},root:{borderTop:"xzg4506",color:"xi81zsa",marginTop:"x14vqqas",paddingTop:"xyinxu5",paddingEnd:"xho0xa1",paddingBottom:"xxbrewl",paddingStart:"x1vobaek",$$css:!0}};function a(a){var b=a.fallback,e=a.onClose;a=a.thread;var f=d("MWProactiveWarningPayload.bs").useHook(void 0,a),g=c("useReStore")(),l=d("MWThreadKey.bs").useIdMemoizedExn();j(function(){f!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},[f]);if(f==null)return b;a=h._("__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",f.header)]);b=h._("__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",f.description)]);var m=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:f.context,label:f.cta1Title,onClose:e,onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},setPWDismissTime:function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(l,c("LS.re").make(a))},"readwrite"),e,e)}})}),n=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("TetraButton.react"),{label:h._("__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",f.cta2Title)]),onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}}),c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(f.threadKey,c("LS.re").make(a))},"readwrite"),e,e)},reduceEmphasis:!1,size:"medium",type:"secondary"})});b=i.jsxs(i.Fragment,{children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:b}),headline:i.jsx(c("MWText.react"),{color:"primary",type:"bodyLink4",children:a}),level:4,textAlign:"center"}),i.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3",children:[m,n]})]});return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fallback,d=a.onClose;a=a.thread;return h.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:b,onClose:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={roundedCornerBottomRight:{bottom:"x1ey2m1c",end:"xds687c",fill:"x1g6sh6t",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},roundedCornerRtl:{transform:"xpk2tj9",$$css:!0},roundedCornerTopRight:{end:"xds687c",fill:"x1g6sh6t",pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",$$css:!0},svg:{display:"x1lliihq",$$css:!0}};function a(a){a=c("useUniqueID")();return h.jsx("div",{className:c("stylex")(i.roundedCornerTopRight,d("Locale").isRTL()?i.roundedCornerRtl:!1),children:h.jsxs("svg",{className:"x1lliihq",height:"18px",width:"18px",children:[h.jsx("defs",{children:h.jsxs("mask",{id:a,children:[h.jsx("rect",{fill:"white",height:"36",width:"36",x:"-18",y:"0"}),h.jsx("circle",{cx:"0",cy:"18",fill:"black",r:"18"})]})}),h.jsx("rect",{height:"18",mask:"url(#"+(a+")"),width:"18",x:"0",y:"0"})]})})}a.displayName=a.name+" [from "+f.id+"]";e={make:a};function b(a){a=c("useUniqueID")();return h.jsx("div",{className:c("stylex")(i.roundedCornerBottomRight,d("Locale").isRTL()?i.roundedCornerRtl:!1),children:h.jsxs("svg",{className:"x1lliihq",height:"18px",width:"18px",children:[h.jsx("defs",{children:h.jsxs("mask",{id:a,children:[h.jsx("rect",{fill:"white",height:"36",width:"36",x:"-18",y:"0"}),h.jsx("circle",{cx:"0",cy:"0",fill:"black",r:"18"})]})}),h.jsx("rect",{height:"18",mask:"url(#"+(a+")"),width:"18",x:"0",y:"0"})]})})}b.displayName=b.name+" [from "+f.id+"]";a={make:b};g.TopRight=e;g.BottomRight=a}),98);
__d("MWChatUnavailableComposer.bs",["fbt","MWText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=h._("__JHASH__FoZB3MxTOU9__JHASH__");return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:a})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatConnectionStatus.bs",["fbt","MWText.react","MqttState.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("div",{className:"x17zy6dr x1r4l5d8 x1lliihq xz9dl7a xsag5q8 x2b8uid",children:i.jsx(c("MWText.react"),{type:"meta4",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.connectionStatus;if(a===d("MqttState.bs").connected)return null;else if(a===d("MqttState.bs").disconnected)return j(h._("__JHASH__c91Lbfy37OX__JHASH__"));else if(a===d("MqttState.bs").connecting)return j(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}b=a;g.renderStatus=j;g.make=b}),98);
__d("MWChatConnectionStatusCard.bs",["LSPlatformConnectionStatusProvider","MWChatConnectionStatus.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("LSPlatformConnectionStatusProvider").Context);return h.jsx(b("MWChatConnectionStatus.bs").make,{connectionStatus:a.status})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWChatEncryptedBackupsUpsellWrapper.react",["cr:1920","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var c=b("cr:1920")==null?void 0:b("cr:1920")();return(c=c)!=null?c:h.jsx(h.Fragment,{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMDotMeReferrerContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){var b=a.children;a=a.referrer;return h.createElement(i.Provider,{children:b,value:a})}function b(a){return h.useContext(i)}c=a;g.useContext=b;g.make=c}),98);
__d("MWCMBotsNuxBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometImageFromIXValue.react","CometPlaceholder.react","CommunityBotEnabledStatus","GroupsCometHowdyBotSetupDialog.entrypoint","I64","LS.re","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.re","LSIssueBotsInfoFetch","MWCMBotFalcoLogger","MWCMUseFolder.re","MWInboxPersistedUIState","ReQL","ReQLSuspense","TetraButtonGroup.react","gkx","react","regeneratorRuntime","useCometEntryPointDialog","useGroupsCometChatsEngagementImpressionLogger","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useCallback,l=e.useEffect,m=e.useRef,n=e.useState,o=c("gkx")("571");function p(a){var b=a.bot,e=a.fetchBotsAfterClosing,f=a.folder,g=a.thread;a=n(!0);var k=a[0],l=a[1];a=c("useCometEntryPointDialog")(c("GroupsCometHowdyBotSetupDialog.entrypoint"),{routeParams:{thread_id:d("I64").to_string(g.threadKey)},routeProps:{botID:b.botId!=null?d("I64").to_string(b.botId):"",groupID:d("I64").to_string(f.fbGroupId)}});var p=a[0];b=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMBotsNuxBanner.showBanner__");a=b[0];var q=b[1];b=m(a);a=c("useGroupsCometChatsEngagementImpressionLogger")({client_extras:{thread_id:d("I64").to_string(g.threadKey)},event:"thread_banner_rendered",group_id:d("I64").to_string(f.fbGroupId),source:"hellobot_thread_banner",surface:"thread_view"});var r=h._("__JHASH__9hNVE2eaKp2__JHASH__"),s=h._("__JHASH__sPNWa4e9CwZ__JHASH__"),t=m(!1),u=c("useVisibilityObserver")({onVisible:function(){t.current||(t.current=!0,q(function(a){return a+1}))}}),v=function(){l(!1),q(3)};return b.current>=3||!k?null:j.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",ref:u,children:j.jsx("div",{ref:a,children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("TetraButtonGroup.react"),{primary:{label:r,onPress:function(){d("MWCMBotFalcoLogger").logBotsEvent({action:"tap",event:"render_fb_hellobot_management",fbGroupId:d("I64").to_string(f.fbGroupId),source:"hellobot_thread_banner",surface:"thread_view",threadKey:d("I64").to_string(g.threadKey)}),p({fbGroupId:d("I64").to_string(f.fbGroupId),fetchBotsAfterClosing:e,threadId:d("I64").to_string(g.threadKey)}),v()},padding:"wide",type:"secondary"}}),body:h._("__JHASH__YXpdfYjoBCb__JHASH__"),headline:s,icon:o?j.jsx(c("CometImageFromIXValue.react"),{alt:s,source:i("293628")}):void 0,level:4,onClose:v})})})}p.displayName=p.name+" [from "+f.id+"]";var q=function(a,e){return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(a.runInTransaction(function(a){return c("LSIssueBotsInfoFetch")(e.threadKey,d("LS.re").make(a))},"readwrite"));case 2:case"end":return f.stop()}},null,this)};function r(a){var b=a.folder,e=a.thread,f=c("useReStore")();a=d("I64").to_string(e.threadKey);var g=k(function(){q(f,e)},[f,a]);l(function(){q(f,e)},[f,a]);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(f.table("bots")).getKeyRange(e.threadKey)},[f,a]);var h=a.some(function(a){return a.enabledStatus===c("CommunityBotEnabledStatus").ENABLED}),i=a.find(function(a){return d("I64").equal(a.botId,d("I64").of_float(101458626009197))});if(a.length<1||h||i==null)return null;else return j.jsx(p,{bot:i,fetchBotsAfterClosing:g,folder:b,thread:e})}r.displayName=r.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=d("MWCMUseFolder.re").useFolder(a);if(!b)return null;var e=d("LSCommunityBitOffset.bs").has(c("LSCommunityCapabilityBitOffset.re").canManageCommunityBots,b);return e?j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(r,{folder:b,thread:a})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.re","MWInboxPersistedUIState","ReQL","ReQLSuspense","TetraButtonGroup.react","react","useCometLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState,l=c("JSResourceForInteraction")("LSMuteThreadDialogForJSResource.react").__setRef("MWCMAutoJoinNotifNUX.react");function m(a){var b=a.thread;a=c("useCometLazyDialog")(l);var e=a[0];a=k(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var m=a[0],n=a[1];a=j(m);var o=j(!1);m=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,n(function(a){return a+1}))}});return a.current<3&&!f?i.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",ref:m,children:i.jsx(c("CometContextualMessage.react"),{addOnPrimary:i.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.thread,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("community_folders")).getKeyRange(b.parentThreadKey)},[e,b.parentThreadKey]);if(a){a=d("LSCommunityBitOffset.bs").has(c("LSCommunityCapabilityBitOffset.re").communityHasImplicitJoinChannel,a);return a?i.jsx(m,{thread:b}):null}else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCMNux",["nux:54"],(function(a,b,c,d,e,f,g){"use strict";a=b("nux:54")==null?void 0:b("nux:54")("mw_cm_onboarding_nux");c=a;g["default"]=c}),98);
__d("MWCMInboxInterstitialNux.bs",["CurrentEnvironment","JSResourceForInteraction","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","Promise","ReQL.bs","bs_curry","promiseDone","react","useCMNux","useCometLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:!1};function a(a){var c=a.folderOrThread,d=b("useReStore")();a=b("useCMNux");a=a!==void 0?b("bs_curry")._1(a):[!1,void 0];var e=a[1],f=a[0],g=b("useVisibilityObserver")({onHidden:e!==void 0?e.onHidden:function(a){},onVisible:e!==void 0?e.onVisible:function(a){}});a=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWCMOnboardingNuxDialogResource.react").__setRef("MWCMInboxInterstitialNux.bs"));var j=a[0];e=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWCMOnboardingNuxDialogFDSResource.react").__setRef("MWCMInboxInterstitialNux.bs"));var k=e[0];h.useEffect(function(){if(f&&!i.contents)if(c.TAG===0){if(b("CurrentEnvironment").messengerdotcom){var a=c._0,e=b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").communityHasImplicitJoinChannel,a);i.contents=!0;j({folder:a,isAutoJoin:e,onClose:void 0,visibilityRef:g},function(a){})}}else if(!b("CurrentEnvironment").messengerdotcom){var h=c._0;b("promiseDone")(d.runInTransaction(function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("community_folders")),{hd:h.parentThreadKey,tl:0})).then(function(a){if(a!==void 0){var c=b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").communityHasImplicitJoinChannel,a);i.contents=!0;k({folder:a,isAutoJoin:c,onClose:void 0,visibilityRef:g},function(a){})}return b("Promise").resolve()})},"readonly"))}},[f,i,j,k]);return null}c=a;f.hasShownDialog=i;f.make=c}),null);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","MAWGating","MWChatContactPresenceHook.bs","MWPActor.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:4714","cr:4715","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__KJ9BpmLEozf__JHASH__");function k(a){var b=a.threadKey;a=c("bs_int64").to_string(b);var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,f)}),function(a){return a.contactId})},[e,f,a]))}function l(a){var b=a.contactId,e=a.renderNullState;a=a.renderWrapper;var f=d("MWChatContactPresenceHook.bs").useIsActive(b);b=d("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(b);if(f)return c("bs_curry")._1(a,j);else if(b!==void 0)return c("bs_curry")._1(a,h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(b),format:"minimized"}))]));else return c("bs_curry")._1(e)}e={make:l};function m(a){var b=a.renderNullState,d=a.renderWrapper;a=a.thread;a=k(a);if(a.length!==1)return c("bs_curry")._1(b);a=a[0];return i.jsx(l,{contactId:a,renderNullState:b,renderWrapper:d})}m.displayName=m.name+" [from "+f.id+"]";f={PresenceText:e,make:m};function n(a){var b=a.renderNullState,e=a.renderWrapper;a=a.thread;a=k(a);a=d("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return c("bs_curry")._1(e,j);else return c("bs_curry")._1(b)}e={make:n};function o(a){return a}function p(a){return null}function a(a){var e=a.thread,f=a.renderWrapper;a=a.renderNullState;f=f!==void 0?f:o;a=a!==void 0?a:p;var g=e.threadType;if(c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").oneToOne)||c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)&&d("MAWGating").isArmadillo()&&d("MAWGating").isE2EEAttributionAndPresenceEnabled())return b("cr:4715")==null?i.jsx(m,{renderNullState:a,renderWrapper:f,thread:e}):i.jsx(b("cr:4715"),{renderNullState:a,renderWrapper:f,thread:e});else if(c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").group)||c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").secureMessageOverWaGroup)&&d("MAWGating").isArmadillo()&&d("MAWGating").isE2EEAttributionAndPresenceEnabled())return b("cr:4714")==null?i.jsx(n,{renderNullState:a,renderWrapper:f,thread:e}):i.jsx(b("cr:4714"),{renderNullState:a,renderWrapper:f,thread:e});else return null}a=a;f=f;e=e;var q=o,r=p;a=a;g.OneOnOnePresence=f;g.GroupPresence=e;g.defaultRenderWrapper=q;g.defaultRenderNullState=r;g.make=a}),98);
__d("LSRtcCallState.re",["LSRtcCallState.bs"],(function(a,b,c,d,e,f){c=(a=b("LSRtcCallState.bs")).noOngoingCall;f.noOngoingCall=c;d=a.audioGroupCall;f.audioGroupCall=d;e=a.videoGroupCall;f.videoGroupCall=e;b=a.video1to1Call;f.video1to1Call=b;c=a.audio1to1Call;f.audio1to1Call=c}),null);
__d("LSContactVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").verified,b);if(b!==void 0&&b)return h.jsx("span",{className:"xurb0ha",children:e!==void 0?c("bs_caml_option").valFromOption(e):a!==void 0?h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"}):null});else return null}b=a;e=b;g.make=e}),98);
__d("LSVerificationBadge.bs",["LSContactVerificationBadge.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","bs_caml_option","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon,e=a.size,f=a.thread,g=c("useReStore")(),i=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:f.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,i)}),function(a){var b=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:a.contactId,tl:0}));return[a,b]}),2)},[g,JSON.stringify(f.threadKey),i]));var j=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:i,tl:0})},[g,i])),k=a.length;if(k!==1){if(k!==0)return null;if(j===void 0)return null;k=j}else{j=a[0];a=j[1];if(a===void 0)return null;k=a}j={contact:k};e!==void 0&&(j.size=c("bs_caml_option").valFromOption(e));b!==void 0&&(j.icon=c("bs_caml_option").valFromOption(b));return h.jsx(d("LSContactVerificationBadge.bs").make,babelHelpers["extends"]({},j))}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWInboxHeaderDetails",["CometMiddot.react","CometPlaceholder.react","I64","LSPresenceStatusText.bs","LSRtcCallState.re","LSThreadTitle.bs","LSVerificationBadge.bs","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWSeparatorContainer.react","MWText.react","MWVerticalRhythm","MessagingThreadType.re","MessengerMuteUtils.bs","ReQL","ReQLSuspense","cr:4703","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},middot:{paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",$$css:!0}};function a(a){var e=a.color,f=a.thread;a=a.threadNameSize;var g=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(f.threadKey).filter(d("MWLSContactTypeExactUtils.bs").isIgContact)},[g,f.threadKey]),k=(j==null?void 0:j.secondaryName)!=null&&(j==null?void 0:j.secondaryName)!==""!==""?j.secondaryName:null;j=d("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType);var l=d("I64").equal(f.threadType,c("MessagingThreadType.re").discoverablePublicChat),m=d("MessengerMuteUtils.bs").calcMuteUntilMs(f),n=d("MWChatCalculateIsMutedFromExpireTime.bs").useHook(m);m=!d("I64").equal(f.ongoingCallState,c("LSRtcCallState.re").noOngoingCall);var o=h.jsx("div",{className:"x1k2j06m x10ogl3i",children:h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h.jsx(c("CometMiddot.react"),{})})}),p=h.jsx(d("LSThreadTitle.bs").make,{thread:f});return h.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",children:[h.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:h.jsxs(c("MWText.react"),{align:"center",color:e,isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:[p,h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("LSVerificationBadge.bs").make,{size:"small",thread:f})})]})}),l?b("cr:4703")!=null&&f.memberCount!=null?h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:8}),h.jsx(c("MWText.react"),{align:"center",numberOfLines:1,type:"meta3",children:h.jsx(b("cr:4703"),{count:d("I64").to_int32(f.memberCount)})})]}):null:j?h.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a})})]})},thread:f}):m?h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:o,xstyle:i.item,children:[k!=null?h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h.jsx(c("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{})}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]}):h.jsx(d("LSPresenceStatusText.bs").make,{renderNullState:function(){return h.jsxs(c("MWSeparatorContainer.react"),{beforeContent:h.jsx(c("MWVerticalRhythm"),{height:6}),separator:o,xstyle:i.item,children:[k!=null?h.jsxs(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:[" ",k," "]}):null,n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})},renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:o,xstyle:i.item,children:[k!==null?h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]})},thread:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactLink.bs",["CometLink.react","CometPressable.react","CurrentEnvironment","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.secondaryName,e=d("MWLSContactTypeExactUtils.bs").isIgContact(a);return b!==void 0&&e?"https://www.instagram.com/"+b:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:c("bs_int64").to_string(a.id)})}var i={expanding:{display:"x78zum5",$$css:!0}};function b(a){var b=a.isText,e=a.children,f=a.contact,g=a.label;a=a.testid;b=b!==void 0?b:!0;var j=g!==void 0?c("bs_caml_option").some(g):void 0,k=f.secondaryName,l=d("MWLSContactTypeExactUtils.bs").isIgContact(f);if(k!==void 0&&l){l="https://www.instagram.com/"+k;if(b){k={children:e,href:l,target:"_blank"};g!==void 0&&(k.label=g);a!==void 0&&(k.testid=a);return h.jsx(c("CometLink.react"),babelHelpers["extends"]({},k))}k={children:e,expanding:!0,linkProps:{target:"_blank",url:l},overlayRadius:6,xstyle:function(a){return[i.expanding]}};j!==void 0&&(k.label=c("bs_caml_option").valFromOption(j));a!==void 0&&(k.testid=c("bs_caml_option").valFromOption(a));return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},k))}l=(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:c("bs_int64").to_string(f.id)});k=c("CurrentEnvironment").facebookdotcom?void 0:"_blank";if(b){f={children:e,href:l};k!==void 0&&(f.target=c("bs_caml_option").valFromOption(k));g!==void 0&&(f.label=g);a!==void 0&&(f.testid=a);return h.jsx(c("CometLink.react"),babelHelpers["extends"]({},f))}b={url:l};k!==void 0&&(b.target=c("bs_caml_option").valFromOption(k));g={children:e,expanding:!0,linkProps:b,overlayRadius:6,xstyle:function(a){return[i.expanding]}};j!==void 0&&(g.label=c("bs_caml_option").valFromOption(j));a!==void 0&&(g.testid=c("bs_caml_option").valFromOption(a));return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},g))}b.displayName=b.name+" [from "+f.id+"]";e=b;f=a;b=e;g.getHref=f;g.make=b}),98);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.bs","LSMessagingThreadTypeUtil.bs","MDSRow.react","MDSRowItem.react","MWCMUseFolder.bs","MWInboxHeaderDetails","MWThreadPicture.bs","MWUseAriaLabelForThread.bs","MWV2GetOtherUser.bs","ReQL.bs","ReQLSuspense","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={title:{maxWidth:"x193iq5w",$$css:!0}};function j(a){var b=a.children,e=a.thread,f=h.useRef(null),g=c("useReStore")();a=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:e.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(g.table("contacts"))),8)},[e.threadKey]);a=d("MWV2GetOtherUser.bs").useOtherUser(e,a);var j=d("MWCMUseFolder.bs").useHook(e),k=d("MWUseAriaLabelForThread.bs").useHook(e);if(a!==void 0){a=a[1];return h.jsx(d("LSContactLink.bs").make,{contact:a,isText:!1,label:a.name,children:b})}if(!d("LSMessagingThreadTypeUtil.bs").isGroup(e.threadType))return b;a={onClose:function(a){}};j!==void 0&&(a.folder=c("bs_caml_option").valFromOption(j));return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:a,dialogResource:c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{"class":"fluid",name:"MWLSGroupMembershipDialog"}).__setRef("MWInboxHeaderDetailsContainer.bs"),children:function(a){return h.jsx(c("CometPressable.react"),{"aria-label":k,onPress:function(b){return c("bs_curry")._1(a)},overlayDisabled:!0,ref:f,xstyle:function(a){return[i.title]},children:b})}})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};var k={detailsContainer:{paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color,i=a.thread;a=a.isContainerPressable;b=b!==void 0?b:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";a=a!==void 0?a:!0;e=h.jsx(c("MDSRowItem.react"),{children:h.jsx(d("MWThreadPicture.bs").make,{badgeSize:e,photoSize:b,thread:i,withAltText:!1})});b={thread:i,threadNameSize:f};g!==void 0&&(b.color=c("bs_caml_option").valFromOption(g));f=h.jsx(c("MDSRowItem.react"),{expanding:!0,xstyle:k.detailsContainer,children:h.jsx(c("MWInboxHeaderDetails"),babelHelpers["extends"]({},b))});return h.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:a?h.jsxs(j,{thread:i,children:[e,f]}):h.jsxs(h.Fragment,{children:[h.jsx(j,{thread:i,children:e}),f]})})})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.ThreadPressable=f;g.make=a}),98);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;var d=h.useRef(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(a){},thread:a},dialogResource:c("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),children:function(a){return c("bs_curry")._2(b,a,d)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("FDSInboxInfoQuickActionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("869051"),20);b={icon:a};c=d("fbicon")._(h("532353"),20);e={icon:c};f=d("fbicon")._(h("664775"),20);a={icon:f};c=d("fbicon")._(h("491283"),20);f={icon:c};c=d("fbicon")._(h("497885"),20);c={icon:c};d=d("fbicon")._(h("642537"),20);h={icon:d};g.Profile=b;g.Mute=e;g.Unmute=a;g.Search=f;g.Invite=c;g.$$Image=h}),98);
__d("MWInboxInfoQuickActionIcons.bs",["cr:11889"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSInboxInfoQuickActionIcons$OR$FDSInboxInfoQuickActionIcons$requireCond=a=b("cr:11889");g.Profile=a.Profile;g.Mute=a.Mute;g.Unmute=a.Unmute;g.Search=a.Search;g.Invite=a.Invite;g.$$Image=a.$$Image}),98);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSTextPairing.react","MWText.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},image:{marginEnd:"x11i5rnm",$$css:!0},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function j(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.TAG){case 0:return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,linkProps:{url:b._0},type:"secondary"})});case 1:var e=b._0,f={label:d,onPress:function(a){return c("bs_curry")._1(e)},type:"secondary"};b._1!==void 0&&(f.ref=c("bs_caml_option").valFromOption(b._1));return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),babelHelpers["extends"]({},f))});case 2:return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:c("bs_curry")._1(b._0,function(a,b,e,f,g,i,j){return h.jsx(c("TetraButton.react"),{label:d,onPress:function(a){return c("bs_curry")._1(b)},ref:a,type:"secondary"})})});case 3:c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}b={make:j};function a(a){var b=a.banner;a=a.ctaParser;var d=b.banner.iconUrl;d=d!==void 0?h.jsx(c("MDSRowItem.react"),{expanding:!1,children:h.jsx("div",{className:"x11i5rnm",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=h.jsx(c("MDSRowItem.react"),{expanding:!0,children:h.jsx(c("MDSTextPairing.react"),{body:c("bs_belt_Option").getWithDefault(b.banner.titleSectionOne,"")+c("bs_belt_Option").getWithDefault(b.banner.titleSectionTwo,""),bodyLineLimit:1,level:4,meta:b.banner.heading,metaLineLimit:1,metaLocation:"above"})}),f=b.banner.infoLabel;f=f!==void 0?h.jsx(c("MDSRowItem.react"),{children:h.jsx(c("MWText.react"),{type:"meta1",children:h.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:f})})}):null;var g=b.leftButton,k=b.rightButton,l,m=0,n;g!==void 0?k!==void 0?l=h.jsxs(c("MDSRow.react"),{paddingTop:8,spacing:4,children:[h.jsx(j,{action:c("bs_curry")._2(a,b,g),button:g}),h.jsx(j,{action:c("bs_curry")._2(a,b,k),button:k})]}):(n=g,m=1):k!==void 0?(n=k,m=1):l=null;m===1&&(l=h.jsx(c("MDSRow.react"),{paddingTop:8,children:h.jsx(j,{action:c("bs_curry")._2(a,b,n),button:n})}));var o=h.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[h.jsxs(c("MDSRow.react"),{children:[d,e,f]}),l]});g=c("bs_belt_Option").map(b.bannerAction,c("bs_curry")._1(a,b));var p;if(g!==void 0)switch(g.TAG){case 0:p=h.jsx(c("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[i.linkBanner]},children:o});break;case 1:var q=g._0;k={children:o,expanding:!0,onPress:function(a){return c("bs_curry")._1(q)}};g._1!==void 0&&(k.ref=c("bs_caml_option").valFromOption(g._1));p=h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},k));break;case 2:p=c("bs_curry")._1(g._0,function(a,b,d,e,f,g,i){return h.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(a){return c("bs_curry")._1(b)},ref:a,children:o})});break;case 3:c("recoverableViolation")("In thread banner cta not implemented: "+c("bs_belt_Option").getWithDefault(c("bs_belt_Option").map(b.bannerAction,function(a){return a.ctaType}),""),"messenger_web_product");p=o;break}else p=o;return h.jsx("div",{className:"xcrg951 x1n2onr6",children:h.jsx("div",{className:"xdppsyt",children:p})})}a.displayName=a.name+" [from "+f.id+"]";e=a;d=b;f=e;g.BannerButton=d;g.make=f}),98);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSFetchBanners","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var a=b.runInTransaction(function(a){return c("LSFetchBanners")(e,d("LS.bs").make(a))},"readwrite");c("promiseDone")(a)},[e,b])}g.useHook=a}),98);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSExecuteCTA","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")();return h.useCallback(function(a){var e=b.runInTransaction(function(b){return c("LSExecuteCTA")(a,d("LS.bs").make(b))},"readwrite");c("promiseDone")(e)},[b])}g.useHook=a}),98);
__d("MWLSMarketplaceServerMutationCta.bs",["LS.bs","LSServerMutationCta","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")();return h.useCallback(function(b,e){var f=a.runInTransaction(function(a){return c("LSServerMutationCta")(b,e,d("LS.bs").make(a))},"readwrite");c("promiseDone")(f)},[a])}g.useHook=a}),98);
__d("MWLSMarketplaceCtaParser.bs",["CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_curry","bs_int64","bs_js_dict","bs_js_json","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function j(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("MWThreadKey.bs").useIdMemoizedExn();a=h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:f,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,e)}),function(a){return a.contactId})},[JSON.stringify(e),f,b]);a=d("ReQLSubscription.bs").useFirst(a);if(a!==void 0)return c("bs_int64").to_string(a)}function a(a){var b=d("MWLSExecuteInThreadBannerCta.bs").useHook(),e=d("MWLSMarketplaceServerMutationCta.bs").useHook(),f=j(),g=h.useRef(null);a=c("useCometLazyDialog")(c("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var k=a[0],l=d("MWThreadKey.bs").useIdMemoizedExn();a=c("bs_int64").to_string(l);var m=c("useCometEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:a}),n=m[0];c("useCometEntryPointDialog")(c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:a});m=c("useCometEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:a});var o=m[0];m=c("useCometEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:a});var p=m[0];return h.useMemo(function(){var a=function a(j,m){var q=m.ctaType;if(q==="marketplace_see_details"||q==="marketplace_banner_open_native"){var r=m.webviewUrl;if(r!==void 0)return{_0:r,TAG:0};r=m.deeplinkUrl;if(r!==void 0)return{_0:r,TAG:0};else{c("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(q==="marketplace_view_profile"){r=m.webviewUrl;if(r!==void 0)return{_0:r,TAG:0};r=m.deeplinkUrl;if(r!==void 0)return{_0:r,TAG:0};else{c("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(q==="marketplace_scaled_rate_seller")if(m.webviewUrl!=null)return{_0:m.webviewUrl,TAG:0};else return{_0:void 0,TAG:3};if(q==="marketplace_more_options"&&j.overflowMenuActions.length>0)return{_0:function(b){return h.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(j,b)},menu:j.overflowMenuActions},popoverResource:c("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),children:b})},TAG:2};if(q==="marketplace_report_buyer"||q==="marketplace_report_seller")if(f!==void 0)return{_0:function(a){return k({entryPoint:"REPORT_BUTTON",id:f,location:q==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:g,TAG:1};else{c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return{_0:void 0,TAG:3}}if(q==="marketplace_mark_as_sold_with_txn_survey"||q==="marketplace_mark_as_sold_with_txn_survey_scaled")return{_0:function(a){return c("bs_curry")._1(b,m.ctaId)},_1:void 0,TAG:1};if(i.has(q))return{_0:function(a){return c("bs_curry")._1(b,m.ctaId)},_1:void 0,TAG:1};if(q!=="marketplace_server_mutation")if(q==="marketplace_label_chat")return{_0:function(a){return n({threadID:c("bs_int64").to_string(l)},function(a){return c("bs_curry")._1(b,m.ctaId)})},_1:void 0,TAG:1};else if(q==="marketplace_mark_as_paid")return{_0:function(a){return o({threadID:c("bs_int64").to_string(l)},function(a){return c("bs_curry")._1(b,m.ctaId)})},_1:void 0,TAG:1};else if(q==="marketplace_create_discount")return{_0:function(a){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return p({threadID:c("bs_int64").to_string(l)},function(a){return c("bs_curry")._1(b,m.ctaId)})},_1:void 0,TAG:1};else return{_0:void 0,TAG:3};r=m.actionContentBlob;var s=r!==void 0?c("bs_belt_Option").getExn(c("bs_js_json").decodeString(c("bs_belt_Option").getExn(c("bs_js_dict").get(c("bs_belt_Option").getExn(c("bs_js_json").decodeObject(JSON.parse(r))),"marketplace_cta_type")))):"";return{_0:function(a){return c("bs_curry")._2(e,l,s)},_1:void 0,TAG:1}};return a},[b,e,f,k,p,n,o,l])}f=e;b=j;e=a;g.marketplaceCta=f;g.useOtherParticipantId=b;g.useHook=e}),98);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWLSMarketplaceCtaParser.bs").useHook(),e=d("MWLSAdContextCtaParser.bs").useHook();return function(a,f){var g=f.ctaType;if(d("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(g))return c("bs_curry")._2(b,a,f);else if(d("MWLSAdContextCtaParser.bs").adContextCta.has(g))return c("bs_curry")._2(e,a,f);else return{_0:void 0,TAG:3}}}g.useHook=a}),98);
__d("MWProactiveWarningNoticeInThreadBanner.react",["ix","CometIcon.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MWText.react","fbicon","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={chevron:{paddingTop:"x1nn3v0j",$$css:!0},container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",paddingTop:"x1yrsyyn",$$css:!0},image:{paddingTop:"x4p5aij",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),e=b[0],f=function(){};return i.jsx("div",{className:"xcrg951 x1n2onr6",children:i.jsx("div",{className:"xdppsyt",children:i.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){e({flowCallbacks:{onClose:f}})},xstyle:j.linkBanner,children:i.jsx("div",{className:"x1a8lsjc xh8yej3",children:i.jsxs(c("MDSRow.react"),{children:[i.jsx(c("MDSRowItem.react"),{xstyle:j.image,children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("492713"),16),size:16})})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(c("MWText.react"),{type:"body3",children:a.label})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.chevron,children:i.jsx(c("MWText.react"),{type:"body3",children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{disabled:!0,icon:d("fbicon")._(h("492547"),10),size:10})})})})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWLSThread.bs","MWProactiveWarningNoticeInThreadBanner.react","MWThreadKey.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1066","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=b("cr:1066")==null?void 0:c("bs_caml_option").some(b("cr:1066"));var i=b("cr:1066")==null?function(a,b){}:b("cr:1066").useHook;function a(a){d("MWLSEnsureInThreadBannerExists.bs").useHook();d("MWLSEnsureAdContextExists.bs").useHook();var e=c("useReStore")(),f=d("MWThreadKey.bs").useIdMemoizedExn();a=h.useMemo(function(){return d("MWLSInThreadBanner.bs").getInThread(e,f)},[e,f]);a=d("ReQLSubscription.bs").useFirst(a);var g=d("MWLSInThreadBannerCtaParser.bs").useHook(),j=d("MWLSThread.bs").useThread(f),k=c("bs_curry")._2(i,!0,j);if(a===void 0)return null;var l=a.banner.bannerCtaType;if(l!==void 0){if(l==="ads_context")return h.jsx(d("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:g});l=1}else l=1;if(l===1){l=a.banner.cta1Type;var m=a.banner.cta2Type;if(l!==void 0&&m!==void 0){if(l==="proactive_warning_affirmative"||l==="proactive_warning_negative"||m==="proactive_warning_affirmative"||m==="proactive_warning_negative")if(!(b("cr:1066")==null)&&k!==void 0&&j!==void 0&&c("bs_caml").i64_gt(c("bs_belt_Option").getWithDefault(j.proactiveWarningDismissTime,c("bs_caml_int64").zero),c("bs_int64").zero))return h.jsx(c("MWProactiveWarningNoticeInThreadBanner.react"),{context:k.context,label:"See things you can do to stay safe"});else return null;l=2}else l=2;if(l===2)return h.jsx(d("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:g})}}f=a;a=e;e=i;f=f;g.$MWProactiveWarningPayload$OR$null$requireCond=b("cr:1066");g.canfetchProactiveWarningForTopBanner=a;g.useFetchProactiveWarningPaylod=e;g.make=f}),98);
__d("MessagingLoggingUtils.bs",["MessagingAttachmentType.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").none))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").none;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").sticker))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").sticker;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").image))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").image;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").animatedImage))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").gif;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").video))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").video;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").audio))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").audio;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").file))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").application;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").xma))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").share;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").ephemeralImage))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").image;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").ephemeralVideo))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").videoMessage;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").selfieSticker))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").selfieSticker;else if(c("bs_caml").i64_eq(a,d("MessagingAttachmentType.bs").soundBite))return d("MessagingLoggingUtilsAttachmentTypeInt.bs").soundBite;else return d("MessagingLoggingUtilsAttachmentTypeInt.bs").none}g.convertToAttachmentType=a}),98);
__d("MWChatReplyText.bs",["fbt","CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","bs_curry","cr:2382","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.transformEmoticons,f=a.isHotLike,g=a.ranges;a=a.text;e=e!==void 0?e:!0;f=f!==void 0?f:!1;var j={};j.MessengerTextFormatting=[d("MWChatTextFormatting").replyRenderer];a=b("cr:2382")==null?a:c("bs_curry")._1(b("cr:2382").unvault,a);var k=h._("__JHASH__HyRDoZftJu4__JHASH__").toString();f=f?k:a;k={maxLength:120,maxLines:2,renderers:j,text:f,transforms:e?d("MWChatTextTransform.bs").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1};g!==void 0&&(k.ranges=c("bs_caml_option").valFromOption(g));a=i.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},k));return i.jsx("div",{className:"xi81zsa",dir:"auto",children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.$MAWVault$requireCond=b("cr:2382");g.make=e}),98);
__d("MAWDualSendPermissionsManager.bs",["LSInt64.bs","MAWDualSendSimplePermissionsManager.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MessagingThreadType.bs","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){if(c("bs_caml").i64_eq(a,d("MessagingThreadType.bs").oneToOne))return c("bs_caml").i64_neq(a,d("MessagingThreadType.bs").secureMessageOverWaOneToOne);else return!1}function j(a){if(c("bs_caml").i64_eq(a,d("MessagingThreadType.bs").group))return c("bs_caml").i64_neq(a,d("MessagingThreadType.bs").secureMessageOverWaGroup);else return!1}function k(a,b){if(i(a)&&b===1)return[d("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendTextUser(),d("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendMediaUser()];else if(j(a)&&b===2)return[d("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendTextUser(),d("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendMediaUser()];else return[!1,!1]}function l(a,b,c){var e=d("MWV2UseAreThreadContactsDualSendEligible.bs").useThreadEligiblity(b,c);c=k(c,e);var f=c[0],g=c[1];return h.useMemo(function(){if(a==="media")return g;else return f},[d("LSInt64.bs").string(b),f,g,a,e])}function a(a,b){var c=l("text",a,b);a=l("media",a,b);if(c)return!0;else return a}g.usePermission=l;g.useIsThreadEligible=a}),98);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-or-network"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("MWV2ThreadNullstate.bs",["fbt","CometLink.react","CometPressable.react","CometScrollableArea.react","JSResource","LS.bs","LSMailboxType.bs","LSNullstateCTAType.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSThreadTitle.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MWMDotMeReferrerContext.bs","MWPActor.bs","MWText.react","MessageSendClickFalcoEvent","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","UseCurrentDisplayMode.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_int64","gkx","promiseDone","qex","react","stylex","useCometLazyDialog","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0}};function k(a){var b=a.children;a=a.onClick;var e=c("useCurrentDisplayMode")()===d("UseCurrentDisplayMode.bs").darkTheme;return i.jsx(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:function(a){return[e?j.dark_mode_legible_text_pill:j.pill]},children:b})}k.displayName=k.name+" [from "+f.id+"]";var l={cta_list:{alignItems:"xuk3077",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0},privacy_text:{paddingBottom:"xx6bls6",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},privacy_text_offset:{paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0},welcome_text:{paddingBottom:"x1hhzuzn",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0}};function m(a,b,e){var f=c("useReStore")(),g=d("MWPActor.bs").useActor(),h=d("MWMDotMeReferrerContext.bs").useContext();return i.useCallback(function(i){return function(j){var k=d("LSThreadAttributionTypeUtil.bs").getSource(a.threadKey,b),l=i!==void 0?c("bs_caml").i64_eq(i.ctaType,d("LSNullstateCTAType.bs").getStarted)&&c("bs_caml_obj").caml_equal(i.ctaId,j.ctaId):!1,m=l?h:void 0;c("promiseDone")(f.runInTransaction(function(b){return c("LSOptimisticSendMessage")(g,a.threadKey,a.threadType,d("LSMailboxType.bs").messenger,j.title,void 0,void 0,void 0,void 0,void 0,void 0,k,m!==void 0?c("bs_caml_option").valFromOption(m):void 0,j.platformToken!==void 0?c("bs_caml_option").valFromOption(j.platformToken):void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,void 0,void 0,void 0,d("LS.bs").make(b))},"readwrite"));var n=c("bs_int64").to_string(a.threadKey),o=function(a){if(n===void 0)return;var b=c("bs_caml_option").valFromOption(n);c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:b}}})},p=function(a){if(n===void 0)return;var b=c("bs_caml_option").valFromOption(n);c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(a){return{display:void 0,page:{id:b},quick_reply:{id:"",type:64}}})};l?o():p();c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint.bs").icebreaker}}})}},[f,g,c("bs_int64").to_string(a.threadKey),b,h])}function a(a){var b=a.lsSource,e=a.initiatingSource,f=a.nullstate,g=a.nullstateCtas,j=a.thread;a=b!==void 0?b:"unknown";var n=m(j,a,e);b=c("bs_caml_obj").caml_equal(c("qex")._("357"),!0)?h._("__JHASH__DEznlgE40i___JHASH__"):h._("__JHASH__SnAPOCvmUOd__JHASH__");a=h._("__JHASH__TiVBDUafVwm__JHASH__",[h._param("name",i.jsx(d("LSThreadTitle.bs").make,{thread:j,wrapOutput:function(a,b){return b}})),h._param("= public info link",i.jsx(c("CometLink.react"),{color:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:i.jsx(c("MWText.react"),{type:"body4",children:h._("__JHASH__Gh1QF47PUp7__JHASH__")})}))]);e=f.privacyText;e=e!==void 0?i.jsx(c("MWText.react"),{color:"secondary",type:"body4",children:e}):null;var o=c("useCometLazyDialog")(c("JSResource")("MWPrivacyDisclosureDialog.react").__setRef("MWV2ThreadNullstate.bs")),p=o[0];o=f.privacyTextCtaTitle;o=i.jsx(c("CometLink.react"),{color:"primary",onClick:function(a){p({entryPoint:"NULL_STATE",onClose:function(a){},threadKey:j.threadKey},function(a){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(a){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:c("bs_int64").to_string(j.threadKey)}})},role:"link",target:"_blank",children:o!==void 0?i.jsx(c("MWText.react"),{color:"blueLink",type:"body4",children:o}):null});var q=f.welcomeText,r=f.privacyText;q=i.jsxs("div",{children:[q!==void 0?g.length!==0?q!==b.toString()?i.jsxs("div",{children:[i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:q})}),i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:b})})]}):i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:b})}):q!==b.toString()?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:q})}):null:g.length!==0?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:b})}):null,i.jsx("ul",{className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r",children:g.map(function(a){var b=c("bs_caml").i64_eq(f.ctaType,d("LSNullstateCTAType.bs").getStarted)&&c("bs_caml_obj").caml_equal(f.ctaId,a.ctaId);return i.jsx("li",{className:c("stylex")(l.cta_list_item,b?l.cta_list_item_center:!1),children:i.jsx(k,{onClick:function(){return n(f)(a)},children:a.title})},c("bs_int64").to_string(a.ctaId))})}),r!==void 0?i.jsx("div",{className:"xx6bls6 xurb0ha x1sxyh0",children:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:c("gkx")("2386")&&c("bs_caml").i64_eq(f.privacyTextCtaType,d("LSNullstateCTAType.bs").privacyDisclosure)?i.jsxs(i.Fragment,{children:[e," ",o]}):a})}):null]});return i.jsx(c("CometScrollableArea.react"),{xstyle:l.privacy_text_offset,children:q})}a.displayName=a.name+" [from "+f.id+"]";b=m;e=a;g.MWV2ThreadNullstatePill=k;g.useSendIcebreakerMessage=b;g.make=e}),98);
__d("MWV2PersistentIcebreakers.bs",["MWPThreadTheme.bs","MWV2ThreadNullstate.bs","bs_caml_int64","bs_curry","bs_int64","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a,b,d){if(b.length!==0)return((d|0)-c("bs_caml_int64").to_int32(a.lastActivityTimestampMs)|0)>=216e5;else return!1}function b(a){var b=a.lsSource,e=a.initiatingSource,f=a.nullstateCtas;a=a.thread;b=b!==void 0?b:"unknown";var g=d("MWV2ThreadNullstate.bs").useSendIcebreakerMessage(a,b,e);a=d("MWPThreadTheme.bs").useHook();return h.jsx("div",{className:c("stylex")(i.container,d("MWPThreadTheme.bs").isGradient(a)?i.mask:!1),children:h.jsx("ul",{className:"xuk3077 xcrg951 x78zum5 xdt5ytf xm7lytj",children:f.map(function(a){if(a.ctaType==="nullstate_icebreaker")return h.jsx("li",{className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid",children:h.jsx(d("MWV2ThreadNullstate.bs").MWV2ThreadNullstatePill,{onClick:function(b){return c("bs_curry")._2(g,void 0,a)},children:a.title})},c("bs_int64").to_string(a.ctaId));else return null})})})}b.displayName=b.name+" [from "+f.id+"]";e=a;f=b;g.shouldShowPersistentIcebreakers=e;g.make=f}),98);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("MWChatHotlikeEmitter.bs").createEmitter(),j=h.createContext(i);function a(a){a=a.children;return h.createElement(j.Provider,{children:a,value:i})}c={make:a};function b(a){return h.useContext(j)}g.emitter=i;g.context=j;g.Provider=c;g.useHook=b}),98);
__d("MWQuickPromotionThreadViewBanner.react",["CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a.eligiblePromotions);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8783,context_trigger:"messenger_thread_open"});return a==null?null:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(d("CometRelay").MatchContainer,{match:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometRelay","I64","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{fb_group_id:d("I64").to_string(a.fbGroupId),thread_id:d("I64").to_string(a.threadId)});a=a==null?void 0:(a=a.viewer)==null?void 0:a.eligible_promotions;return a==null?null:i.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381").make,{}),!(b("cr:1799382")==null)&&a?h.jsx(b("cr:1799382").make,{}):null]})}c=a;g.$MWChatUnsendNUXReceiver$requireCond=b("cr:1799381");g.$MWChatUnsendNUXSender$requireCond=b("cr:1799382");g.mwChatUnsendNUXReceiver=b("cr:1799381");g.mwChatUnsendNUXSender=b("cr:1799382");g.make=c}),98);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResource","MDSRow.react","MDSRowItem.react","MWText.react","TetraButton.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=a.onDismiss,e=a.onView;a=h._("__JHASH__6a2Fgvho2wx__JHASH__");var f=h._("__JHASH__ZJi8hPzvWwM__JHASH__");return j.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[j.jsx(c("MDSRowItem.react"),{xstyle:[k.imageRow],children:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),j.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{color:"primary",type:"headline4",children:a})})}),j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{color:"secondary",type:"body4",children:f})})})]})]}),j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(c("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(a){}},dialogResource:c("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),children:function(a){return j.jsx(c("TetraButton.react"),{label:h._("__JHASH__LPDl6ep1oBy__JHASH__"),onPress:function(b){c("bs_curry")._1(a);return c("bs_curry")._1(e)},type:"secondary"})}})}),j.jsx(c("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__IRN53cEfYnc__JHASH__"),onPress:b,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return Date.now()-c("bs_caml_int64").to_float(c("bs_belt_Option").getWithDefault(a.unsentTimestampMs,c("bs_caml_int64").zero))<=1e4}function a(a){var b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=c("useReStore")();a=h.useState(function(){return!1});var g=a[0],j=a[1],k=h.useRef(!1),l=h.useRef(!1),m=h.useRef();a=c("useMessengerUnsendNUX")(8568);var n=a[0],o=a[1],p=a[2],q=h.useCallback(function(a){a=m.current;if(a!==void 0){c("bs_curry")._1(a);m.current=void 0;return}},[]);a=h.useCallback(function(a){l.current=!0;c("bs_curry")._1(o);c("bs_curry")._1(q);return c("bs_curry")._1(j,function(a){return!1})},[]);var r=h.useCallback(function(a){var b=!g&&!k.current;if(b&&i(a)){k.current=!0;return c("bs_curry")._1(n,function(a){k.current=!1;if(a)return c("bs_curry")._1(j,function(a){return!0});else{c("bs_curry")._1(q);l.current=!0;return}})}},[b,g]);h.useEffect(function(){if(l.current)return;else{m.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages")),{hd:e,tl:0}),function(a){if(a.isUnsent)return c("bs_caml").i64_neq(a.senderId,b);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return c("bs_curry")._1(r,b._0);case 2:return}});return function(a){c("bs_curry")._1(q);if(g&&!l.current)return c("bs_curry")._1(p)}}},[g,r,e,q]);if(g)return h.jsx(d("MWChatUnsendNUXReceiverBanner.bs").make,{onDismiss:a,onView:a});else return null}b=8568;e=1e4;f=a;a=b;b=e;e=i;f=f;g.cNUX_ID=a;g.cTEN_SECONDS=b;g.isMessageUnsentInLastTenSeconds=e;g.make=f}),98);
__d("MWChatUnsendNUXSender.bs",["JSResource","MWChatUnsendNUXReceiver.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=c("useReStore")(),g=h.useRef(!1),i=h.useRef(!1),j=h.useRef(!1),k=h.useRef();a=c("useMessengerUnsendNUX")(8598);var l=a[0],m=a[1],n=h.useCallback(function(a){a=k.current;if(a!==void 0){c("bs_curry")._1(a);k.current=void 0;return}},[]),o=h.useCallback(function(a){if(!j.current){j.current=!0;c("bs_curry")._1(n);return c("bs_curry")._1(m)}},[]);a=c("useCometLazyDialog")(c("JSResource")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var p=a[0],q=h.useCallback(function(a){var b=!g.current&&!i.current;if(b&&d("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){g.current=!0;return c("bs_curry")._1(l,function(a){g.current=!1,a?(p({onView:o},function(a){}),i.current=!0):(c("bs_curry")._1(n),j.current=!0)})}},[b,n]);h.useEffect(function(){k.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages")),{hd:e,tl:0}),function(a){if(a.isUnsent)return c("bs_caml").i64_eq(a.senderId,b);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return c("bs_curry")._1(q,b._0);case 2:return}});return n},[e,q,n]);return null}b=8598;e=a;g.cNUX_ID=b;g.make=e}),98);
__d("MWChatFilePreProcessingErrorDialog.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__rp1B2ks3qwV__JHASH__"),title:h._("__JHASH__Tgh_5naYWqz__JHASH__")};g.invalidFileFormat=a}),98);
__d("MWChatFileUploadErrorDialog.bs",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:c("gkx")("1147754")?h._("__JHASH__tncNGvtAhMp__JHASH__"):h._("__JHASH__BNDx1mX2nlz__JHASH__"),title:h._("__JHASH__GVmFuh2jycz__JHASH__")};g.maxFileSizeExceeded=a}),98);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","JSResource","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWStartRTCCallUtils","MWTooltip.react","MessagingThreadType.bs","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","emptyFunction","gkx","promiseDone","qex","react","useCometLazyDialog","useRTWebCometStartCallCallback","useReStore","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="startVideoCall",k="startVoiceCall",l="joinVideoChat";function m(a,e,f,g){var h=c("useReStore")(),j=c("useRTWebCometStartCallCallback")(),k=d("MWPActor.bs").useActor();return i.useCallback(function(i){i=b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("rtc_ongoing_calls_on_threads_v2")),{hd:a.threadKey,tl:0}),function(a){return a.ongoingCallServerInfoData})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("participants")),{hd:a.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,k)}),function(a){return c("bs_int64").to_string(a.contactId)})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("mi_act_mapping_table")),{hd:a.threadKey,tl:0}),function(a){return a.jid}))]);i=i.then(function(h){var i=h[1],k=h[0];c("bs_curry")._1(e);j({existingCall:k!==void 0?{call_state:d("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),initiator_fbid:null,server_info_data:c("bs_js_null_undefined").fromOption(c("bs_caml_option").valFromOption(k))}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),mediaType:f,thread:{e2eeThreadID:c("bs_belt_Option").map(h[2],function(a){return c("bs_int64").to_string(a)}),id:c("bs_int64").to_string(a.threadKey),secureOneToOneThreadPeerId:i!==void 0&&c("bs_caml").i64_eq(a.threadType,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)?c("bs_caml_option").some(c("bs_caml_option").valFromOption(i)):void 0,type:c("bs_caml_int64").to_int32(a.threadType)},trigger:g});return b("Promise").resolve()});c("promiseDone")(i)},[h,j,JSON.stringify(a.threadKey),a.ongoingCallState,g,e])}function n(a,e,f,g,h){var j=i.useRef(c("uuid")()).current;return i.useCallback(function(e){var g=c("bs_int64").to_string(a.threadKey),i=f==="video"?1:0;g="/call?threadid="+g+"&isvideocall="+i+"&funnel_id="+j;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");d("MWStartRTCCallUtils").logCallAttemptViaLocalhost({funnelSessionId:j});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(g,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),h(e)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),h(e)}).send()]))},[f,j,a.threadKey,h])}function o(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=i.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,e)}),1)},[b,a.threadKey,JSON.stringify(e)]);f=d("ReQLSubscription.bs").useArray(f);return d("MWChatContactPresenceHook.bs").useHasActiveContact(f.map(function(a){return a.contactId}))}function p(a){var b=a.threadKey,e=c("useReStore")(),f=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),2),function(a){return c("bs_caml").i64_neq(a.contactId,f)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0}))})},[e,JSON.stringify(b),JSON.stringify(f)]));var g;if(a.length!==1)g=!1;else{var h=a[0];g=h!==void 0?c("bs_caml").i64_eq(h.contactType,d("LSContactType.bs").page):!1}if(!g)return[!0,!0];h=!0;g=!0;for(var j=0,k=a.length;j<k;++j){var l=a[j];if(l!==void 0){var m=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").rtcVoiceCall,l),!0);l=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").rtcVideoCall,l),!0);h=h&&m;g=g&&l}}if(c("gkx")("1710932"))return[h,g];else return[!1,!1]}function q(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=c("bs_belt_Option").isSome(d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(b.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[b,JSON.stringify(a.threadKey)]))),g=c("bs_belt_Option").isSome(d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:{hd:e,tl:0}})},[b,JSON.stringify(a.threadKey),JSON.stringify(e)]))),h=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,a),j=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,a),k=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),l=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!k||d("MAWGating").isFeatureLimitEnabled()),m=p(a),n=a.threadType;g=(c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").group)||c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").secureMessageOverWaGroup))&&g||c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").oneToOne)||c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)?[h,j]:[!1,!1];n=d("MWChatIsMessageRequest.bs").fn(a.folderName);h=!n&&f&&!l&&(!k||c("gkx")("5709"));if(h)return[m[0]&&g[0],m[1]&&g[1]];else return[!1,!1]}function r(a){var b=a.icon,d=a.label,e=a.onPress,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;b={"aria-label":d,children:b,onPress:e,overlayDisabled:f,overlayRadius:"50%"};a!==void 0&&(b.testid=c("bs_caml_option").valFromOption(a));e=i.jsx(c("MWTooltip.react"),{align:"middle",position:function(){switch(c("gkx")("571")?"below":"above"){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:d,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},b))});if(g!==void 0)return c("bs_curry")._1(g,e);else return e}e={make:r};function s(a){var b=a.startAudioCall,e=a.fill,f=a.overlayDisabled,g=a.renderContainer;a=a.size;e={icon:c("bs_curry")._2(d("MWChatRTCButtonIcons.bs").$$Audio.icon,e,a),label:h._("__JHASH__7OlJstElKZQ__JHASH__"),onPress:b,overlayDisabled:f,testid:k};g!==void 0&&(e.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},e))}s.displayName=s.name+" [from "+f.id+"]";var t={make:s};function u(a){var b=a.fill,e=a.isActive,f=a.overlayDisabled,g=a.renderContainer,k=a.size,l=a.startVideoCall;a=c("useCometLazyDialog")(c("JSResource")("RTWebStartCallUpsellDialog.react").__setRef("MWV2ChatRTCButtons.bs"));var m=a[0];a={icon:c("bs_curry")._3(d("MWChatRTCButtonIcons.bs").Video.icon,b,k,e),label:h._("__JHASH__BhmiwbAyMN2__JHASH__"),onPress:function(a){var b=c("qex")._("421")===!0;if(b)return m({onAcceptCall:function(b){return c("bs_curry")._1(l,a)}},function(a){});else return c("bs_curry")._1(l,a)},overlayDisabled:f,testid:j};g!==void 0&&(a.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},a))}u.displayName=u.name+" [from "+f.id+"]";var v={make:u};function w(a){var b=a.fill,e=a.ongoingCallState,f=a.overlayDisabled,g=a.renderContainer,j=a.size,k=a.startAudioCall;a=a.startVideoCall;if(c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").noOngoingCall))return null;b={icon:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").audioGroupCall)?c("bs_curry")._2(d("MWChatRTCButtonIcons.bs").$$Audio.icon,b,j):c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").videoGroupCall)?c("bs_curry")._3(d("MWChatRTCButtonIcons.bs").Video.icon,b,j):null,label:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").audioGroupCall)?h._("__JHASH__Jezj_QnZwHq__JHASH__"):c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").videoGroupCall)?h._("__JHASH__LWBq4gDrf_a__JHASH__"):"",onPress:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").audioGroupCall)?k:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").videoGroupCall)?a:function(a){},overlayDisabled:f,testid:l};g!==void 0&&(b.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},b))}w.displayName=w.name+" [from "+f.id+"]";f={make:w};function a(a){var b=d("MWStartRTCCallUtils").useShouldTryWithMessengerDesktop(),e=a.audioCallingSurface,f=a.fill,g=a.logAudio;g=g===void 0?c("emptyFunction"):g;var h=a.logVideo;h=h===void 0?c("emptyFunction"):h;var j=a.overlayDisabled;j=j===void 0?!1:j;var k=a.renderContainer,l=a.size;l=l===void 0?"26px":l;var p=a.thread;a=a.videoCallingSurface;var r=o(p),t=q(p),v=t[0];t=t[1];var x=m(p,h,"video",a),y=m(p,g,"audio",e);h=n(p,h,"video",a,x);a=n(p,g,"audio",e,y);g=b?h:x;e=b?a:y;if(!(v||t))return null;h=p.ongoingCallState;if(c("bs_caml").i64_neq(h,d("LSRtcCallState.bs").noOngoingCall)){x={fill:f,ongoingCallState:h,overlayDisabled:j,size:l,startAudioCall:e,startVideoCall:g};k!==void 0&&(x.renderContainer=c("bs_caml_option").valFromOption(k));return i.jsx(w,babelHelpers["extends"]({},x))}if(v){b={fill:f,overlayDisabled:j,size:l,startAudioCall:e};k!==void 0&&(b.renderContainer=c("bs_caml_option").valFromOption(k));a=i.jsx(s,babelHelpers["extends"]({},b))}else a=null;if(t){y={fill:f,isActive:r,overlayDisabled:j,size:l,startVideoCall:g};k!==void 0&&(y.renderContainer=c("bs_caml_option").valFromOption(k));p=i.jsx(u,babelHelpers["extends"]({},y))}else p=null;return i.jsxs(i.Fragment,{children:[a,p]})}a=a;var x=j,y=k,z=l;e=e;v=v;f=f;a=a;g.$$Audio=t;g.startVideoCallTestid=x;g.startVoiceCallTestid=y;g.joinVideoChatTestid=z;g.BaseButton=e;g.Video=v;g.JoinExistingChat=f;g.make=a}),98);
__d("MWV2HeaderMinimizeButton.bs",["fbt","CometPressable.react","MWTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color;a=a.onPress;var d=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=h._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",ref:d,children:i.jsx("svg",{height:"26px",viewBox:"-4 -4 24 24",width:"26px",children:i.jsx("line",{stroke:b,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2HeaderSettingsButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MDSRow.react","MWTooltip.react","ODS","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.size;a=a.color;b=b!==void 0?b:"10px";return i.jsx("svg",{className:"x1i64zmx",height:b,viewBox:"0 0 18 10",width:b,children:i.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:a,fillRule:"evenodd"})})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};var k={settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli",$$css:!0}};function a(a){var b=a.children,e=a.iconColor,f=a.tab;a=a.thread;var g=h._("__JHASH__FjEOIpwxx5G__JHASH__");return i.jsx(c("CometLazyPopoverTrigger.react"),{popoverProps:{onClose:function(a){},tab:f,thread:a},popoverResource:c("JSResourceForInteraction")("MWV2HeaderSettingsMenuForJSResource.react").__setRef("MWV2HeaderSettingsButton.bs"),position:"start",preloadTrigger:"button",children:function(a,f,h,l,m,n,o){return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:g,children:i.jsx(c("CometPressable.react"),{"aria-label":g,onHoverIn:c("bs_curry").__1(l),onHoverOut:function(a){return c("bs_curry")._1(m)},onPress:function(a){c("bs_curry")._1(f),d("ODS").bumpEntityKey(3185,"mwchat_header","settings")},onPressIn:c("bs_curry").__1(n),overlayRadius:5,ref:a,testid:void 0,xstyle:function(a){return[k.settingsButton]},children:i.jsxs(c("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:[b,i.jsx(j,{color:e})]})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.Chevron=f;g.make=a}),98);
__d("MWV2ChatTabHeader.bs",["LSMessagingThreadTypeUtil.bs","MAWThreadCutover.bs","MWCMUseFolder.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2HeaderMinimizeButton.bs","MWV2HeaderSettingsButton.bs","MWV2IsTabFocusedContext.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseCurrentDisplayMode.bs","UseMWV2CloseTab.bs","XCometGroupChatsThreadViewControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:2587","cr:2754","react","requireDeferred","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs"),j=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs");function k(a){var b=a.color;a=a.thread;var e=h.useCallback(function(a){d("ODS").bumpEntityKey(3185,"mwchat_header","audio"),j.onReady(function(a){return c("bs_curry")._1(a.logClick,{component:c("bs_curry")._1(d("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:c("bs_curry")._1(d("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]),f=h.useCallback(function(a){d("ODS").bumpEntityKey(3185,"mwchat_header","video"),i.onReady(function(a){return c("bs_curry")._1(a.logClick,{component:c("bs_curry")._1(d("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:c("bs_curry")._1(d("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]);return h.jsx(d("MWV2ChatRTCButtons.bs").make,{audioCallingSurface:"comet_chattab_audio_button",fill:b,logAudio:e,logVideo:f,thread:a,videoCallingSurface:"comet_chattab_video_button"})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function l(a){var b=c("useCurrentDisplayMode")(),e=d("MWV2IsTabFocusedContext.bs").useContext(),f=d("MWPThreadTheme.bs").useTop(),g=c("bs_caml").i64_gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs);g=g&&!e;a=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&b===d("UseCurrentDisplayMode.bs").darkTheme&&e;b=g||a?"var(--always-white)":e?f:"var(--disabled-icon)";e=g?f:void 0;f=g||a?"white":void 0;return[b,f,e]}function a(a){var e=a.tab,f=a.thread,g=d("MWCMUseFolder.bs").useHook(f),i=d("MWChatStateV2.bs").useDispatch(),j=d("UseMWV2CloseTab.bs").useHook(f,e);a=l(f);var m=a[0],n=a[1];a=a[2];var o;if(b("cr:2754")==null||g===void 0)o=null;else{var p=b("cr:2587")==null?function(a){}:function(a){return c("bs_curry")._1((a=b("cr:2587")).log,{action:a.tap,category_id:void 0,community_id:c("bs_int64").to_string(g.folderId),event:a.threadExpanded,group_id:c("bs_int64").to_string(g.fbGroupId),parent_surface:"entity_menu",source:a.expandButton,surface:a.chatsTab,thread_id:c("bs_int64").to_string(f.threadKey)})},q={url:c("XCometGroupChatsThreadViewControllerRouteBuilder").buildURL({idorvanity:c("bs_int64").to_string(g.fbGroupId),thread_id:c("bs_int64").to_string(f.threadKey)})};o=h.jsx(b("cr:2754").make,{color:m,link:q,onPress:p})}q=d("MAWThreadCutover.bs").useIsCutoverOpenThread(f.threadKey);if(q){p={isContainerPressable:!1,photoSize:"s_32",thread:f,threadNameSize:"headlineEmphasized4"};n!==void 0&&(p.color=c("bs_caml_option").valFromOption(n));q=h.jsx(d("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))}else{p={isContainerPressable:!1,photoSize:"s_32",thread:f,threadNameSize:"headlineEmphasized4"};n!==void 0&&(p.color=c("bs_caml_option").valFromOption(n));q=h.jsx(d("MWV2HeaderSettingsButton.bs").make,{iconColor:m,tab:e,thread:f,children:h.jsx(d("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))})}n={endContent:h.jsx(c("MWTooltipGroup.react"),{children:h.jsxs("div",{className:"x6s0dn4 x78zum5 xcud41i",children:[h.jsx(k,{color:m,thread:f}),h.jsx(d("MWV2HeaderMinimizeButton.bs").make,{color:m,onPress:function(a){return c("bs_curry")._1(i,d("MWChatStateActions.bs").minimizeTab(Date.now(),e.tabId))}}),o,h.jsx(d("MWV2HeaderCloseButton.bs").make,{color:m,onPress:function(a){return c("bs_curry")._1(j)},testid:void 0})]})}),startContent:q};a!==void 0&&(n.backgroundColor=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWV2HeaderContainer.bs").make,babelHelpers["extends"]({},n))}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=f;g.$ZenonUserActionLoggerCommon$Deferred=i;g.$ZenonUserActionLoggerCommon$Deferred$1=j;g.$GroupsCometChatsEngagementLogger$requireCond=b("cr:2587");g.$MWV2ChatExpandButton$requireCond=b("cr:2754");g.mExpandButton=b("cr:2754");g.mGroupsCometChatsEngagementLogger=b("cr:2587");g.RTCButtons=a;g.make=e}),98);
__d("MAWInThreadBannerNuxesWrapper.react",["nux:201","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner");function a(a){return!a.isGroup&&h?h(a):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["MAWGating","MAWInThreadBannerNuxesWrapper.react","cr:4360","cr:4958","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:4360"))!=null?e:h.Fragment;function a(a){return h.jsxs(h.Fragment,{children:[d("MAWGating").isSoftBlockEnabled()?null:h.jsx(i,{children:h.jsx(c("MAWInThreadBannerNuxesWrapper.react"),babelHelpers["extends"]({},a))}),b("cr:4958")&&h.jsx(b("cr:4958"),{thread:a.thread})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["LSMessagingThreadTypeUtil.bs","MAWInThreadBannerNuxReqCondWrapper.react","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","cr:4042","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:4042")==null?void 0:c("bs_caml_option").some(b("cr:4042"));function a(a){var e=a.thread;a=b("cr:4042")==null?function(){}:c("bs_curry")._1(i.useThreadJidCallback,e.threadKey);var f=d("LSMessagingThreadTypeUtil.bs").isGroup(e.threadType),g=c("useReStore")(),j=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:e.threadKey,tl:0}),2)},[g,JSON.stringify(e.threadKey)])),k=d("MWPActor.bs").useActor(),l=h.useMemo(function(){if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(e.threadType))return c("bs_caml_option").undefined_to_opt(j.find(function(a){return c("bs_caml").i64_neq(a.id,k)}))},[JSON.stringify(k),j]);l=l!==void 0?l.name:void 0;return c("bs_curry")._1(c("MAWInThreadBannerNuxReqCondWrapper.react"),{thread:e,getThreadJid:a,isGroup:f,otherUserFullName:l})}e=a;f=e;g.$MAWChatJid$requireCondXplat=b("cr:4042");g.make=f}),98);
__d("MWV2ContextBanner.bs",["LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSNullstateDescriptionType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","LsSystemFolder.bs","MWText.react","MWThreadPicture.bs","RecoverableViolation.react","bs_caml","bs_caml_int64","bs_caml_option","cr:1574","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:1574")==null?void 0:c("bs_caml_option").some(b("cr:1574"));e={wrapper:{paddingBottom:"xsag5q8",$$css:!0}};function j(a){var b=a.kind;a=a.text;if(c("bs_caml").i64_eq(b,c("bs_caml_int64").zero)||c("bs_caml").i64_eq(b,d("LSNullstateDescriptionType.bs").subtext)||c("bs_caml").i64_eq(b,d("LSNullstateDescriptionType.bs").titleSmallDefault)||c("bs_caml").i64_eq(b,d("LSNullstateDescriptionType.bs").titleSmallSubtext))return h.jsx("div",{className:"xsag5q8",children:h.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return h.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}e={make:j,styles:e};var k={container:{paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x1cnzs8",$$css:!0},image:{display:"x78zum5",justifyContent:"xl56j7k",marginBottom:"xod5an3",$$css:!0},title:{marginBottom:"xod5an3",$$css:!0}};function l(a){a=a.thread;var e=a.nullstateDescriptionType3,f=a.nullstateDescriptionText3,g=a.nullstateDescriptionType2,k=a.nullstateDescriptionText2,l=a.nullstateDescriptionType1,m=a.nullstateDescriptionText1,n=c("bs_caml").i64_eq(a.parentThreadKey,d("LsSystemFolder.bs").businessSupport);return h.jsxs("div",{className:"xsag5q8 x1ye3gou xn6708d x1cnzs8",children:[h.jsx("div",{className:"x78zum5 xl56j7k xod5an3",children:h.jsx(d("MWThreadPicture.bs").make,{badgeSize:14,photoSize:"s_60",thread:a})}),h.jsx("div",{className:"xod5an3",children:h.jsx(c("MWText.react"),{align:"center",type:"headlineEmphasized3",children:h.jsx(d("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b){return b}})})}),m!==void 0&&l!==void 0?h.jsx(j,{kind:l,text:m}):null,k!==void 0&&g!==void 0?h.jsx(j,{kind:g,text:k}):null,f!==void 0&&e!==void 0?h.jsx(j,{kind:e,text:f}):null,!(b("cr:1574")==null)&&d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&c("bs_caml").i64_gt(a.authorityLevel,d("LSAuthorityLevel.bs").serverPartial)&&!n?h.jsx(i.make,{thread:a}):null]})}l.displayName=l.name+" [from "+f.id+"]";f={make:l,styles:k};function a(a){a=a.thread;var b=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").disableContextBanner,a);if(b)return null;else return h.jsx(l,{thread:a})}k=a;a=e;e=f;f=k;g.$MWContextBannerQuickActions$requireCond=b("cr:1574");g.NullstateDescription=a;g.Impl=e;g.make=f}),98);
__d("MWOpenThreadDetail.react",["I64","LSMessagingInitiatingSourceHook.bs","MWCMAutoJoinNotifNUX.react","MWCMBotsNuxBanner.react","MWCMThreadTypes.bs","MWChatUnsendNUX.bs","MWLSThreadDisplayContext.bs","MWMessageList","MWPMessageListColumn.bs","MWPQuickReplies.bs","MWQuickPromotionThreadViewBannerContainer.react","MWV2ContextBanner.bs","MWV2PersistentIcebreakers.bs","MWV2ThreadNullstate.bs","ReQL","ReQLSuspense","ServerTime","cr:2965","cr:3940","cr:4055","cr:4723","cr:4982","react","usePageletMetadata","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useState;function k(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_nullstate")).getKeyRange(a.threadKey)},[b,d("I64").to_string(a.threadKey)]),f=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("thread_nullstate_ctas").index("threadKeyCtaId")).getKeyRange(a.threadKey)},[b,JSON.stringify(a.threadKey)]);return[e,f]}function a(a){var e=a.messageListRef,f=a.thread;a=j(function(){return d("ServerTime").getMillis()});var g=a[0];a[1];a=k(f);var l=a[0],m=a[1];c("usePageletMetadata")("threadType",d("I64").to_string(f.threadType));var n=d("LSMessagingInitiatingSourceHook.bs").useHook();a=b("cr:4055")!=null?h.jsx(b("cr:4055").make,{thread:f}):null;var o=d("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(f,m,g);g=i(function(){return h.jsxs(h.Fragment,{children:[h.jsx(d("MWPQuickReplies.bs").make,{threadKey:f.threadKey}),o?h.jsx(d("MWV2PersistentIcebreakers.bs").make,{initiatingSource:n,lsSource:"inboxInThread",nullstateCtas:m,thread:f}):null]})},[f,m,n,o]);var p=i(function(){return h.jsxs(c("MWPMessageListColumn.bs").Shrinkwrap,{children:[h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:20}),h.jsx(d("MWV2ContextBanner.bs").make,{thread:f}),h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:10})]})},[f]),q=b("cr:2965")!=null?h.jsx(b("cr:2965").make,{folderOrThread:{_0:f,TAG:1}}):null,r=d("MWLSThreadDisplayContext.bs").useHook();r=r!==void 0&&r==="ChatTab";var s=d("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType),t=d("I64").gt(f.parentThreadKey,d("I64").zero)&&d("I64").gt(f.threadKey,d("I64").zero);r=b("cr:4723")!=null&&!r?h.jsx(b("cr:4723"),{thread:f}):null;var u=b("cr:4982")!=null?h.jsx(b("cr:4982").make,{thread:f}):null;s=b("cr:3940")!=null&&s?h.jsx(b("cr:3940"),{}):null;t=t?h.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{fbGroupId:f.parentThreadKey,threadId:f.threadKey}):null;return l!==void 0&&d("I64").equal(f.lastActivityTimestampMs,d("I64").zero)?h.jsxs(h.Fragment,{children:[t,a,h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:f}),u,s,h.jsx(c("MWCMBotsNuxBanner.react"),{thread:f}),q,r,h.jsx(d("MWV2ContextBanner.bs").make,{thread:f}),h.jsx(c("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(d("MWV2ThreadNullstate.bs").make,{initiatingSource:n,lsSource:"inboxInThread",nullstate:l,nullstateCtas:m,thread:f})]}):h.jsxs(h.Fragment,{children:[t,a,h.jsx(c("MWCMBotsNuxBanner.react"),{thread:f}),h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:f}),u,s,q,h.jsx(d("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:!0}),r,h.jsx(c("MWMessageList"),{ref:e,renderFooter:g,renderHeader:p,thread:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.bs",["LSDatabaseType.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWCMThreadTypes.bs","MWLSDatabaseLazySync.bs","MWOpenThreadDetail.react","MWPThreadGradientBackground.bs","cr:4007","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.messageListRef;a=a.thread;var f=c("useReStore")(),g=d("MWCMThreadTypes.bs").isBroadcastThread(a.threadType)&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").reactionsV2,a)&&c("gkx")("8026");h.useEffect(function(){g&&c("promiseDone")(d("MWLSDatabaseLazySync.bs").sync(f,d("LSDatabaseType.bs").reactionsV2))},[f,g]);return h.jsx(d("MWPThreadGradientBackground.bs").make,{children:b("cr:4007")==null||!d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)?h.jsx(c("MWOpenThreadDetail.react"),{messageListRef:e,thread:a}):h.jsx(b("cr:4007").make,{thread:a})})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),34);
__d("MWLSSprocFetchProactiveWarningIfNeeded.bs",["LS.bs","LSFetchProactiveWarningsIfNeeded","LSMessagingThreadTypeUtil.bs","MAWGating","MWLSProactiveWarningTables.bs","MWThreadKey.bs","bs_belt_Option","bs_caml","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e){var f=c("useReStore")(),g=d("MWThreadKey.bs").useIdMemoizedExn(),i=d("MWLSProactiveWarningTables.bs").useHook(),j=i.banner;i=i.pwSettings;i=j!==void 0&&i!==void 0?c("bs_caml").i64_eq(j.banner.bannerId,[0,7]):!1;j=a&&!i?e?!0:b!==void 0?c("bs_caml").i64_eq(c("bs_belt_Option").getWithDefault(b.proactiveWarningDismissTime,c("bs_caml_int64").zero),c("bs_caml_int64").zero):!1:!1;var k=b!==void 0&&j?d("MAWGating").isOccamadillo()&&d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType)?!0:!d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType):!1;h.useEffect(function(){k&&f.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeeded")(g,d("LS.bs").make(a))},"readwrite")},[JSON.stringify(g),j])}b=a;g.useHook=b}),98);
__d("MWV2ComposerDisclosure.bs",["BootloaderResource","CometErrorBoundary.react","CometPlaceholder.react","JSResource","LS.bs","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSVec","LsMessageRequestsActions.bs","MWChatComposerGroupMessageRequestInfoText.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils.bs","MWLSThreadDisplayContext.bs","MWPActor.bs","MessageRequestsLog.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:4720","cr:4721","cr:60","cr:958","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:60")==null?function(a,b){return!1}:b("cr:60").useIsOneOnOneMessageRequestV2;function j(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor();return h.useCallback(function(f){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,c("LSVec").make([e]),d("LS.bs").make(b))},"readwrite"))},[JSON.stringify(a.threadKey)])}var k=c("JSResource")("MAWComposerUserMessageRequestInfoText.bs").__setRef("MWV2ComposerDisclosure.bs");function a(a,b,c){return{size:b,thread:a}}function l(a){return h.createElement(d("BootloaderResource").read(k).make,a)}a={make:l,makeProps:a,reasonResource:k};function m(a){var e=a.forceVoiceIndicatorShown_TEST_ONLY,f=a.thread,g=c("useReStore")(),k=d("MWChatStateV2.bs").useDispatch();a=d("MWLSThreadDisplayContext.bs").useHook();a=a==="Inbox"?"large":"small";var m=j(f),n=f.threadType,o=f.threadKey,p=h.useCallback(function(a){c("promiseDone")(g.runInTransaction(function(a){return c("LSOptimisticRemoveThread")(o,d("LSThreadRemoveType.bs").deleteThread,d("LS.bs").make(a))},"readwrite"),function(a){return c("bs_curry")._1(k,d("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),o))})},[c("bs_int64").to_string(o),g]),q=h.useCallback(function(a){d("MessageRequestsLog.bs").logActionConfirmed(f,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").delete_));return c("bs_curry")._1(p)},[p,f]),r=d("LSMessagingThreadTypeUtil.bs").isSecure(n),s=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,f),t=d("MWPActor.bs").useActor(),u=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(f.threadType))return d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:f.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(g.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,t)});else return d("SortedAsyncIterable.bs").empty()},[g,JSON.stringify(f.threadKey),t])),v=h.useMemo(function(){if(r)return c("bs_curry")._2(i,f,u);else return!1},[f,u,r]);n=d("LSMessagingThreadTypeUtil.bs").isGroup(n);var w=u!==void 0?d("MWLSContactTypeExactUtils.bs").isIgContact(u[1]):!1;return h.jsxs(h.Fragment,{children:[b("cr:958")==null?null:h.jsx(b("cr:958").make,{forceShown_TEST_ONLY:e}),v?h.jsx(l,{size:"large",thread:f}):!r&&s?n?b("cr:4720")==null?h.jsx(d("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:q,onLeaveGroup:function(a){d("MessageRequestsLog.bs").logActionConfirmed(f,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").leaveGroup));return c("bs_curry")._1(m)}}):h.jsx(b("cr:4720"),{onDeleteConversation:q,onLeaveGroup:function(a){d("MessageRequestsLog.bs").logActionConfirmed(f,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").leaveGroup));return c("bs_curry")._1(m)},thread:f}):b("cr:4721")==null?h.jsx(d("MWLSChatComposerUserMessageRequestInfoText.bs").make,{onDeleteConversation:q,thread:f}):h.jsx(b("cr:4721"),{onDeleteConversation:q,thread:f}):!r&&w&&c("gkx")("1839788")?h.jsx(c("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:c("bs_caml").i64_lt(f.authorityLevel,d("LSAuthorityLevel.bs").authoritative),size:a}):null]})}var n={make:m};function e(a){var b=a.thread;a=a.forceVoiceIndicatorShown_TEST_ONLY;a=a!==void 0?a:!1;return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(m,{forceVoiceIndicatorShown_TEST_ONLY:a,thread:b})})})}e.displayName=e.name+" [from "+f.id+"]";f=e;e=j;n=n;f=f;g.$MAWMessageRequestUtil$requireCond=b("cr:60");g.$MWChatComposerVoiceIndicator$requireCond=b("cr:958");g.MAWComposerUserMessageRequestInfoTextLazy=a;g.useLeaveGroup=e;g.Impl=n;g.make=f}),98);
__d("MWV2ErrorComposer.bs",["fbt","MDSTextPairing.react","MWText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx("div",{className:"xcrg951 x1n2xptk x1a8lsjc xl521sm x9mfa4r x889kno",children:i.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:i.jsx(c("MWText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MessengerThreadTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN:1,RESTORED:2});f["default"]=a}),66);
__d("MWPComposerGating.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.re","MAWGating","MAWPSafetyNoticesChatBlockedComposer.react","MWCMThreadTypes.bs","MWCMUseFolder.re","MWLSSprocFetchProactiveWarningIfNeeded.bs","MWPActor.bs","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.bs","MWProactiveWarningPayload.bs","MWV2ComposerDisclosure.bs","MWV2ErrorComposer.bs","MessengerThreadTakedownState","ReQL","ReQLSuspense","RecoverableViolation.react","gkx","lazyLoadComponent","react","useMAWOfflineQueueState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react"));function p(a){a=a.height;return i.jsx("div",{className:"xzg4506",style:{height:a.toString()+"px"}})}p.displayName=p.name+" [from "+f.id+"]";var q=i.memo(function(a){var b=a.renderComposer;a=a.thread;var e=a.cannotReplyReason==="viewer_not_subscribed",f=a.cannotReplyReason==="broadcast_chat_read_only",g=c("MWCMUseFolder.re").useFolder(a);g=g!=null&&g.sendsBlockedUntil!=null&&!d("I64").equal(g.sendsBlockedUntil,d("I64").zero);var h=a.takedownState!=null&&d("I64").equal(a.takedownState,d("LSIntEnum").ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN));if(h)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(p,{height:35}),children:i.jsx(n,{})});else if(e)return i.jsx(k,{thread:a});else if(d("MWCMThreadTypes.bs").isBroadcastThread(a.threadType)&&f){h=c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(c("LSThreadCapabilityBitOffset.re").reactionsV2,a);return i.jsx(m,{isBroadcastChatsReactionsEnabled:h})}else if(g)return i.jsx(l,{size:"small"});else return i.jsxs(i.Fragment,{children:[d("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType)?i.jsx(o,{thread:a}):null,i.jsx(d("MWV2ComposerDisclosure.bs").make,{thread:a}),b()]})}),r=i.memo(function(a){var b=a.isMessengerInbox,e=a.renderComposer;a=a.thread;e=i.jsxs(i.Fragment,{children:[i.jsx(d("MWV2ComposerDisclosure.bs").make,{thread:a}),e()]});var f=a.proactiveWarningDismissTime==null||d("I64").is_zero(a.proactiveWarningDismissTime),g=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);b=b?null:g&&d("MAWGating").isOccamadillo()?f&&c("MAWPSafetyNoticesChatBlockedComposer.react")!=null?i.jsx(c("MAWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null:!g&&f?i.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null;d("MWLSSprocFetchProactiveWarningIfNeeded.bs").useHook(b!=null,a,!1);g=d("MWProactiveWarningPayload.bs").useHook(void 0,a);return b!=null&&g!=null?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(p,{height:35}),children:b}):e});function s(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer,g=a.thread,k=c("useReStore")(),l=d("MWPActor.bs").useActor(),m=d("I64").equal(l,g.threadKey),n=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil.bs").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(k.table("participants")).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(k.table("contacts"))).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[k,g.threadKey,g.threadType]);a=j(function(){return n.find(function(a){return m||n.length===1&&d("I64").equal(a.id,l)||!d("I64").equal(a.id,l)})},[l,m,n]);var o=d("LSMessagingThreadTypeUtil.bs").isSecure(g.threadType),p=i.jsxs("div",{children:[i.jsx("div",{className:"x78zum5 xoverlg xl56j7k xr1496l",children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}),i.jsx("div",{className:"x6s0dn4 x12scifz x1jchvi3 x117nqv4 x1hkbg2g xr1yuqi xkrivgy x4ii5y1 x1gryazu x1qs4qq1 x1n2onr6 x2b8uid x13faqbe",children:h._("__JHASH__bXfe9onDJii__JHASH__").toString()})]}),s=c("useMAWOfflineQueueState")();b=b.find(function(a){return a!=null});return i.jsxs(i.Fragment,{children:[d("MAWGating").isWebLoadStateEnabled()&&o&&s?p:null,b!=null?b:d("LSMessagingThreadTypeUtil.bs").isOneToOne(g.threadType)?a!=null?i.jsx(r,{isMessengerInbox:e,otherUser:a,renderComposer:f,thread:g}):d("I64").lt(g.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:i.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):i.jsx(q,{renderComposer:f,thread:g})]})}function a(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(d("MWV2ErrorComposer.bs").make,{})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("MWPThreadIsPage.bs").make,{threadKey:a.threadKey,children:i.jsx(s,{configurations:b,isMessengerInbox:(b=e)!=null?b:!1,renderComposer:f,thread:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSharedMediaManagerUtils.bs",["LSMailboxType.bs","MWPComposerMediaUploadUtil.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,e,f){return a.runInTransaction(function(a){return b("Promise").all(e.map(function(b){var e=b[0];return a.table("media_staging").add({attachmentType:d("MWPComposerMediaUploadUtil.bs").getAttachmentType(e),durationMs:void 0,fbid:void 0,filename:e.name,fileSize:c("bs_caml_int64").of_int32(e.size),hasError:!1,isSent:!1,mailboxType:d("LSMailboxType.bs").messenger,mimeType:e.type,offlineAttachmentId:b[1],offlineThreadingId:void 0,previewHeight:void 0,previewUrl:URL.createObjectURL(e),previewWidth:void 0,progress:0,threadKey:f})}))},"readwrite")}function e(a,b){return a.runInTransaction(function(a){return a.table("media_staging")["delete"]({hd:b,tl:0})},"readwrite")}function i(a,b){return d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("media_staging")),function(a){if(a.isSent)return!1;else return c("bs_caml").i64_eq(a.threadKey,b)})}function f(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return i(b,a.threadKey)},[b,JSON.stringify(a.threadKey)]))}a=a;e=e;var j=i;f=f;g.insertMediaStaging=a;g.deleteMediaStaging=e;g.getMediaStaging=j;g.useMediaStaging=f}),98);
__d("MWMediaManager.bs",["FBLogger","LSMessagingThreadTypeUtil.bs","MWChatFilePreProcessingErrorDialog.bs","MWChatFileUploadErrorDialog.bs","MWSharedMediaManagerUtils.bs","MercuryConstants","Promise","Promise.bs","bs_caml_option","bs_curry","cr:4021","promiseDone","requireDeferred","useCometAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs"),i=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs");e=b("cr:4021")==null?void 0:c("bs_caml_option").some(b("cr:4021"));function a(a,e,f,g){var j=c("useReStore")(),k=c("useCometAlertDialog")(),l=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),m=d("MWSharedMediaManagerUtils.bs").useMediaStaging(a);e=function(e){var f=e.some(function(a){return a.size>c("MercuryConstants").AttachmentMaxSize});if(f)return c("bs_curry")._2(k,d("MWChatFileUploadErrorDialog.bs").maxFileSizeExceeded,function(a){});f=function(d,a){if(a)if(b("cr:4021")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media preprocess");return b("Promise").resolve([])}else return b("cr:4021").utils.load().then(function(a){return c("bs_curry")._1(a.preprocess,d)});else return i.load().then(function(a){return c("bs_curry")._1(a.preprocess,d)})};c("promiseDone")(d("Promise.bs").$$catch(f(e,l),function(a){c("bs_curry")._2(k,d("MWChatFilePreProcessingErrorDialog.bs").invalidFileFormat,function(a){});return b("Promise").resolve([])}).then(function(e){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").insertMediaStaging(j,e,a.threadKey));var f=a.threadKey;if(l)if(b("cr:4021")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return b("Promise").resolve()}else return b("cr:4021").utils.load().then(function(a){return c("bs_curry")._3(a.upload,j,f,e)});else return h.load().then(function(a){return c("bs_curry")._4(a.upload,j,f,e,g)})}))};f=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(j,a).then(function(c){if(l&&!(b("cr:4021")==null))return b("cr:4021").utils.load().then(function(b){b.attachmentsMap["delete"](a)});else return b("Promise").resolve()}))};var n=function(a){a=m.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(j,a)});if(l&&!(b("cr:4021")==null)){c("promiseDone")(b("cr:4021").utils.load().then(function(a){a.attachmentsMap.clear()}));return}};return{handleFileRemove:f,handleFileSelect:e,mediaStaging:m,resetAttachments:n}}f=e;e=a;g.$MWOpenMediaManagerUtils$Deferred=h;g.$MWOpenMediaManagerUtils$Deferred$1=i;g.$MAWMediaManagerUtilsDeferred$requireCondXplat=b("cr:4021");g.mawMediaManagerUtilsDeferred=f;g.useMediaManager=e}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743878");c=b("FalcoLoggerInternal").create("ls_reply_rendered",a);e.exports=c}),null);
__d("MWV2ComposerReplyView.bs",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","LSContactGenderToGenderConst.bs","LSHotEmojiSize.bs","LSMessagingThreadTypeUtil.bs","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MAWGating","MDSTextPairing.react","MWChatReplyText.bs","MWIcon.react","MWPActor.bs","MWPReplyContext.bs","MWText.react","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_obj","bs_curry","bs_int64","cr:2382","fbicon","getFBTSafeGenderFromGenderConst","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function k(a){var e=a.isSecureThread,f=a.message,g=c("useReStore")();a=d("MWPActor.bs").useActor();a=c("bs_caml").i64_eq(f.senderId,a);var i=d("ReQLSuspense").first(j.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:f.senderId,tl:0})},[g,JSON.stringify(f.senderId)])),k=d("ReQLSuspense").first(j.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("attachments")),{hd:f.threadKey,tl:{hd:f.messageId,tl:0}})},[g,f.messageId,JSON.stringify(f.threadKey)]));j.useEffect(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);var l=f.text;l=l!==void 0?b("cr:2382")==null?l:c("bs_curry")._1(b("cr:2382").unvault,l):"";l=l==="\ud83d\udc4d"&&(c("bs_caml_obj").caml_equal(f.hotEmojiSize,d("LSHotEmojiSize.bs").small)||c("bs_caml_obj").caml_equal(f.hotEmojiSize,d("LSHotEmojiSize.bs").medium)||c("bs_caml_obj").caml_equal(f.hotEmojiSize,d("LSHotEmojiSize.bs").large))&&d("MAWGating").isHotLikeEnabled()&&e;e=f.isUnsent?h._("__JHASH__OtyP2J0Nwkd__JHASH__"):f.text!==void 0&&c("bs_caml_obj").caml_notequal(f.text,"")?j.jsx(d("MWChatReplyText.bs").make,{isHotLike:l,text:c("bs_belt_Option").getWithDefault(f.text,h._("__JHASH__C1Hm6KH3mNE__JHASH__"))}):k!==void 0?c("bs_caml").i64_eq(k.attachmentType,d("MessagingAttachmentType.bs").image)?h._("__JHASH__vuq_ksOZBHO__JHASH__"):c("bs_caml").i64_eq(k.attachmentType,d("MessagingAttachmentType.bs").sticker)?h._("__JHASH__7zoxdliwH6N__JHASH__"):c("bs_caml").i64_eq(k.attachmentType,d("MessagingAttachmentType.bs").video)?h._("__JHASH__d9ky9I-E6BP__JHASH__"):c("bs_caml").i64_eq(k.attachmentType,d("MessagingAttachmentType.bs").animatedImage)?h._("__JHASH__i96Qg8bFARm__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__"):h._("__JHASH__C1Hm6KH3mNE__JHASH__");if(a)l=h._("__JHASH__iW_IRrZDexS__JHASH__");else if(i!==void 0){k=i.firstName;l=h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",j.jsx(c("MWText.react"),{type:"bodyLink4",children:k!==void 0?k:i.name}),[1,c("getFBTSafeGenderFromGenderConst")(d("LSContactGenderToGenderConst.bs").make(i.gender))])])}else l=h._("__JHASH__Y3usjYXlLYK__JHASH__",[h._param("Placeholder for an unknown user","Facebook User")]);return j.jsx("div",{className:"xmo9yow",children:j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWText.react"),{type:"body4",children:l}),level:3,meta:e})})}k.displayName=k.name+" [from "+f.id+"]";var l={make:k};function a(a){var b=a.message;a=a.isSecureThread;a=a!==void 0?a:!1;var e=j.useContext(d("MWPReplyContext.bs").context),f=e.clearReply,g=j.useContext(c("CometTriggerAccessibilityAlertContext"));return j.jsxs("div",{className:"x1cy8zhl xcrg951 x1n2xptk x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,children:[j.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return j.jsx(c("MWText.react"),{type:"body4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:j.jsx(k,{isSecureThread:a,message:b})}),j.jsx(c("MWIcon.react"),{"aria-label":h._("__JHASH__jHl6Cj_8ioz__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(a){c("bs_curry")._2(f,b.threadKey,!0);return c("bs_curry")._2(g,h._("__JHASH__1yy_YyaiiQS__JHASH__").toString(),{assertive:!1})}})]})}a.displayName=a.name+" [from "+f.id+"]";var m=j.memo(a);f={make:m};function e(a){var b=a.messageId,e=a.messageTimestamp,f=a.thread,g=c("useReStore")();a=d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType);var h=d("ReQLSubscription.bs").useFirst(j.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("messages")),{hd:f.threadKey,tl:{hd:e,tl:{hd:b,tl:0}}})},[g,c("bs_int64").to_string(f.threadKey),b,JSON.stringify(e)]));if(h!==void 0)return j.jsx(m,{isSecureThread:a,message:h});else return null}a=e;e=l;l=f;f=a;g.$MAWVault$requireCond=b("cr:2382");g.Inner=e;g.Container=l;g.make=f}),98);
__d("MWPUseVoiceRecorder.bs",["MWAudioPlayer.bs","MWChatRecorderUtilsWorkerResource","MWPAudioPlayer.bs","Promise","WebWorker","bs_caml_option","bs_curry","clearTimeout","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function e(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function f(a){switch(a.TAG){case 0:return 0;case 1:return a._1;case 2:case 3:break}return Math.max(a._0-a._1,0)}function i(a){switch(a.TAG){case 0:return 0;case 1:return a._2;case 2:case 3:return a._0}}function j(a){switch(a.TAG){case 0:case 1:return;case 2:case 3:return a._1}}function k(a){switch(a.TAG){case 0:case 2:return!1;case 1:case 3:return!0}}function l(a){if(a.TAG===2)return a._1===0;else return!1}function m(a){switch(a.TAG){case 1:return d("MWPAudioPlayer.bs").stopLabel;case 0:case 2:return d("MWPAudioPlayer.bs").playLabel;case 3:return d("MWPAudioPlayer.bs").pauseLabel}}function n(a){switch(a.TAG){case 1:return h.jsx(d("MWAudioPlayer.bs").StopIconOutline.make,{});case 0:case 2:return h.jsx(d("MWAudioPlayer.bs").PlayIconOutline.make,{});case 3:return h.jsx(d("MWAudioPlayer.bs").PauseIconOutline.make,{})}}function o(a,b){switch(b.TAG){case 0:return{_0:b._0,_1:0,_2:b._1,TAG:1};case 1:switch(a.TAG){case 0:return a;case 1:return{_0:a._1,_1:0,TAG:2};case 2:return{_0:a._0,_1:a._1,TAG:3};case 3:return{_0:a._0,_1:a._1,TAG:2}}case 2:var c=b._0;switch(a.TAG){case 0:return a;case 1:return{_0:a._0,_1:c,_2:a._2,TAG:1};case 2:return{_0:c,_1:a._1,TAG:2};case 3:return{_0:c,_1:a._1,TAG:3}}case 3:c=b._0;switch(a.TAG){case 0:case 1:return a;case 2:var d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:2};case 3:d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:3}}case 4:return{_0:b._0,_1:0,TAG:2};case 5:return{_0:void 0,TAG:0}}}function p(a){if(window.AudioContext!==void 0)return c("bs_caml_option").some(new window.AudioContext());else if(window.webkitAudioContext!==void 0)return c("bs_caml_option").some(new window.webkitAudioContext());else return}function q(a,d,e,f){var g=a!==void 0?a:60;f=h.useReducer(o,{_0:void 0,TAG:0});var i=f[0],j=f[1],k=c("useIsMountedRef")(),l=h.useRef(),m=h.useRef([]),n=h.useRef([]),q=h.useRef(),r=h.useRef(),s=h.useRef(),t=h.useRef(),u=h.useRef(),v=h.useCallback(function(a){if(!k.current)return;var b=URL.createObjectURL(a);s.current=b;var d=new Audio(b);d.addEventListener("canplay",function(b){r.current=c("bs_caml_option").some(d);b=d.duration;j({_0:b,TAG:2});b={duration:b,file:a};t.current=b;var e=u.current;if(e!==void 0)return c("bs_curry")._1(e,b)});d.addEventListener("timeupdate",function(a){a=r.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a).currentTime;return j({_0:a,TAG:3})});d.addEventListener("durationchange",function(a){a=r.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a).duration;if(!Number.isNaN(a))return j({_0:a,TAG:2})})},[]),w=h.useCallback(function(a){a=l.current;var b=q.current;if(a===void 0)return;if(b===void 0)return;var d=m.current,e=n.current;d={buffersL:d,buffersR:e,sampleRate:a};c("bs_caml_option").valFromOption(b).postMessage(d)},[]),x;x=i.TAG===1?!0:!1;var y=h.useCallback(function(a){if(!x)return;a=a.inputBuffer;var b=a.getChannelData(0).slice();a=a.getChannelData(1).slice();m.current.push(b);n.current.push(a)},[x]);h.useEffect(function(){if(i.TAG!==1)return;var a=i._0;m.current=[];n.current=[];var b={contents:void 0},e={contents:void 0};e.contents=p();var f=e.contents;if(f!==void 0){f=c("bs_caml_option").valFromOption(f);var g=f.destination;l.current=f.sampleRate;var h=f.createScriptProcessor(4096,2,2);b.contents=c("bs_caml_option").some(h);f=f.createMediaStreamSource(a);q.current=c("bs_caml_option").some(new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(c("bs_curry").__1(v)).setAllowCrossPageTransition(!0).execute());h.addEventListener("audioprocess",y);f.connect(h);h.connect(g)}d!==void 0&&c("bs_curry")._1(d);return function(d){a.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}});d=e.contents;d!==void 0&&c("bs_caml_option").valFromOption(d).close();d=b.contents;if(d!==void 0){c("bs_caml_option").valFromOption(d).removeEventListener("audioprocess",y);return}}},[x]);var z=c("usePrevious")(i);h.useEffect(function(){!(z==null)&&z.TAG===1&&i.TAG===2&&c("bs_curry")._1(w)},[z,i]);h.useEffect(function(){if(!x)return;var a=Date.now(),b={contents:void 0},d=function d(e){e=(Date.now()-a)/1e3;if(e>=g)return j({_0:g,TAG:4});else{j({_0:e,TAG:2});b.contents=c("bs_caml_option").some(c("setTimeout")(d,1e3));return}};b.contents=c("bs_caml_option").some(c("setTimeout")(d,1e3));return function(a){a=b.contents;if(a!==void 0){c("clearTimeout")(c("bs_caml_option").valFromOption(a));return}}},[x]);a=h.useCallback(function(a){return j({_0:a,_1:g,TAG:0})},[]);f=h.useCallback(function(a){j({_0:void 0,TAG:5});r.current=void 0;t.current=void 0;l.current=void 0;a=s.current;if(a!==void 0){URL.revokeObjectURL(a);s.current=void 0;return}},[]);var A=h.useCallback(function(a){var d=r.current;if(d===void 0)return j({_0:void 0,TAG:1});d=c("bs_caml_option").valFromOption(d);switch(a.TAG){case 0:case 1:return j({_0:void 0,TAG:1});case 2:d.play().then(function(a){j({_0:void 0,TAG:1});return b("Promise").resolve()})["catch"](function(a){e!==void 0&&c("bs_curry")._1(e);return b("Promise").resolve()});return;case 3:d.pause();return j({_0:void 0,TAG:1})}},[r]),B=h.useCallback(function(a){return new(b("Promise"))(function(d,b){b=t.current;if(b!==void 0)return d(b);u.current=function(a){return d(a)};if(a.TAG===1)return c("bs_curry")._1(A,a)})},[]);return{audioEl:r,getVoiceClip:B,reset:f,start:a,state:i,toggle:A}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=f;g.getDuration=i;g.getCurrentTime=j;g.isProgressing=k;g.isCompleted=l;g.getPlaybackLabel=m;g.getPlaybackIcon=n;g.useVoiceRecorder=q}),98);
__d("MWAudioRecorder.bs",["MWAudioPlayer.bs","MWPAudioPlayer.bs","MWPThreadTheme.bs","MWPUseVoiceRecorder.bs","bs_curry","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioRecorder.bs");function a(a){var b=a.voiceRecorder;a=d("MWPThreadTheme.bs").useBottom();var e=b.audioEl,f=b.state,g=h.useRef(),j=d("MWPAudioPlayer.bs").useResetHighlightProgress(g),k;switch(f.TAG){case 0:case 1:k=!1;break;case 2:case 3:k=!0;break}var l=function(a){c("bs_curry")._1(b.toggle,f);switch(f.TAG){case 0:return;case 1:i.onReady(function(a){return c("bs_curry")._1(a.logClickStopRecording,0)});return;case 2:var d=f._1,e=f._0;d===0?i.onReady(function(a){return c("bs_curry")._1(a.logPlaybackStart,e)}):i.onReady(function(a){return c("bs_curry")._2(a.logPlaybackResume,e,d)});return;case 3:var g=f._1,h=f._0;i.onReady(function(a){return c("bs_curry")._2(a.logPlaybackPause,h,g)});return}},m=d("MWPAudioPlayer.bs").useProgressLiveUpdate(d("MWPUseVoiceRecorder.bs").getDuration(f),e,d("MWPUseVoiceRecorder.bs").getCurrentTime(f),d("MWPUseVoiceRecorder.bs").isProgressing(f),!1,d("MWPUseVoiceRecorder.bs").isCompleted(f)),n=d("MWAudioPlayer.bs").MWHighlight.useStyles(!0),o,p=0;switch(f.TAG){case 0:case 1:o=null;break;case 2:case 3:p=1;break}p===1&&(o=h.jsx(d("MWPAudioPlayer.bs").ScreenreaderLabel.make,{currentTime:f._1,duration:f._0}));return h.jsx(d("MWPAudioPlayer.bs").Container.make,{audioEl:e,hasScrubber:k,scrubberRef:g,style:{backgroundColor:a,borderRadius:"18px",cursor:k?"pointer":"default",height:"36px"},testid:void 0,children:h.jsxs(d("MWPAudioPlayer.bs").KeyCommands.make,{audioEl:e,children:[h.jsx(d("MWPAudioPlayer.bs").Highlight.make,{ref:m,xstyle:n}),o,h.jsx(d("MWPAudioPlayer.bs").Highlight.make,{ref:g,xstyle:n}),h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.bs").styles.playbackButtonContainer),onMouseMove:k?j:void 0,children:h.jsx(d("MWAudioPlayer.bs").PlaybackButton.make,{icon:d("MWPUseVoiceRecorder.bs").getPlaybackIcon(f),label:d("MWPUseVoiceRecorder.bs").getPlaybackLabel(f),onPress:l,outgoing:!0})}),h.jsx(d("MWPAudioPlayer.bs").Timer.make,{style:{color:a,cursor:"pointer"},time:d("MWPUseVoiceRecorder.bs").getTimerTime(f)})]})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.$MWChatAudioLog$Deferred=i;g.make=b}),98);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<h.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<h.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<h.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<h.small?b=d("EmojiLikeConstants").size.SMALL:a<h.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<h.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j}),98);
__d("MWV2ChatGrowingHotlikeButton.bs",["fbt","CometEmoji.react","CometPressable.react","EmojiRenderer","LSHotEmojiSize.bs","MAWGating","MWChatHotLikeEmitterContext.bs","MWLikeSvgIcon.bs","MWTooltip.react","MessengerHotLikeUtils","bs_caml_format","bs_caml_option","bs_curry","clearTimeout","gkx","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={fillGrey:{fill:"xsrhx6k",$$css:!0},customEmojiButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onSendMessage,f=a.thread;a=a.disabled;a=a!==void 0?a:!1;var g=f.customEmoji,k=d("MWChatHotLikeEmitterContext.bs").useHook();f=i.useState(function(){return 0});var l=f[0],m=f[1],n=i.useRef();f=i.useState(function(){return!0});var o=f[0],p=f[1],q=function(a){return c("bs_curry")._1(k.notify,{_0:void 0,TAG:3})},r=function(a){a=n.current;if(a!==void 0){c("clearTimeout")(c("bs_caml_option").valFromOption(a));return}},s=function(a){r();a=c("setTimeout")(q,3e3);n.current=c("bs_caml_option").some(a)};f=function(a){if(l!==0){c("bs_curry")._1(m,function(a){return 0});r();return c("bs_curry")._1(k.notify,{_0:void 0,TAG:3})}};var t=function(a){l!==0&&(a.stopPropagation(),a.preventDefault());a.button!==0&&(c("bs_curry")._1(m,function(a){return Date.now()}),c("bs_curry")._1(k.notify,{_0:void 0,TAG:0}),s());return c("bs_curry")._1(p,function(a){return!1})},u=function(a){if(a<d("MessengerHotLikeUtils").SizeTimes.small)return d("LSHotEmojiSize.bs").small;else if(a<d("MessengerHotLikeUtils").SizeTimes.medium)return d("LSHotEmojiSize.bs").medium;else if(a<d("MessengerHotLikeUtils").SizeTimes.large)return d("LSHotEmojiSize.bs").large;else return d("LSHotEmojiSize.bs").small},v=function(a){a=Date.now()-l;var b=0;if(g!==void 0&&g!==""){var f=u(a);c("bs_curry").app(e,[g,void 0,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}else b=1;if(b===1){f=c("bs_caml_format").caml_int64_of_string(d("MessengerHotLikeUtils").getStickerIDForTime(a));d("MAWGating").isHotLikeEnabled()?c("bs_curry").app(e,[void 0,void 0,f,d("LSHotEmojiSize.bs").small,void 0,void 0,void 0,void 0,void 0,void 0,void 0]):c("bs_curry").app(e,[void 0,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}l!==0&&(c("bs_curry")._1(m,function(a){return 0}),r(),c("bs_curry")._1(k.notify,{_0:void 0,TAG:1}));return c("bs_curry")._1(p,function(a){return!0})};if(g!==void 0&&g!==""){var w=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",g)]),x=function(a){var b=d("EmojiRenderer").parse(g).map(function(a){return a.emoji});if(b.length!==1)return i.jsx("span",{children:g});b=b[0];return i.jsx(c("CometEmoji.react"),{emoji:b,size:a})},y=h._("__JHASH__7OvMJwHRigG__JHASH__");y=o?i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[y," "]}),x(16)]}):null;return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:y,children:i.jsx(c("CometPressable.react"),{"aria-label":w,disabled:a,onHoverOut:f,onPress:v,onPressIn:t,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(a){return[c("gkx")("571")?j.customEmojiButtonMDS:j.customEmojiButtonFDS]},children:x(20)})})}y=h._("__JHASH__OzQk4bc7gK8__JHASH__");w=o?y:null;x={className:"xsrhx6k",size:"20"};b!==void 0&&(x.color=b);return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:w,children:i.jsx(c("CometPressable.react"),{"aria-label":y,disabled:a,onHoverOut:f,onPress:v,onPressIn:t,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(a){return[c("gkx")("571")?j.hotlikeButtonMDS:j.hotlikeButtonFDS]},children:i.jsx(d("MWLikeSvgIcon.bs").make,babelHelpers["extends"]({},x))})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWChatFileIcon.react",["ix","MWIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStaging.bs",["fbt","ix","CometFileSelector.react","CometImage.react","CometImageCover.react","CometPressable.react","MWChatFileIcon.react","MWIcon.react","MWText.react","MWV2ComposerFileButton.bs","MWV2ComposerMediaProgressBar.bs","MessagingAttachmentType.bs","TetraCircleButton.react","bs_caml","bs_caml_option","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={root:{alignItems:"x6s0dn4",backgroundColor:"x1a4onnt",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function l(a){var b=a.onAttachmentsAdded;a=a.supportedFileTypes;b=d("MWV2ComposerFileButton.bs").useOnFilesSelected(b);b={children:function(a){return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(b){return c("bs_curry")._1(a)},xstyle:function(a){return[k.root]},children:j.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})},multiple:!0,onFilesSelected:b};a!==void 0&&(b.accept=c("bs_caml_option").valFromOption(a));return j.jsx(c("CometFileSelector.react"),babelHelpers["extends"]({},b))}l.displayName=l.name+" [from "+f.id+"]";b={make:l};function m(a){var b=a.onPress;return j.jsx("div",{className:"xoo4vsp x10l6tqk x1v4kod4",children:j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:function(){return b()},size:24,type:"overlay"})})}m.displayName=m.name+" [from "+f.id+"]";e={make:m};function n(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}function o(a){a=a.mediaStaging;var b=a.attachmentType,e=n(a);if(e){e=a.previewUrl;if(e!==void 0)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}if(c("bs_caml").i64_eq(b,d("MessagingAttachmentType.bs").video)){e=a.previewUrl;if(e!==void 0)return j.jsxs(j.Fragment,{children:[j.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),j.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:j.jsx(c("CometImage.react"),{src:i("354763")})})]});else return null}if(!c("bs_caml").i64_eq(b,d("MessagingAttachmentType.bs").image))return j.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[j.jsx(c("MWChatFileIcon.react"),{}),j.jsx("div",{className:"x1iyjqo2",children:j.jsx(c("MWText.react"),{numberOfLines:2,type:"headline4",children:a.filename})})]});e=a.previewUrl;if(e!==void 0)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}var p={make:o},q={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1ybostu",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function r(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=j.useCallback(function(a){return c("bs_curry")._1(e,b.offlineAttachmentId)},[]);var f=c("bs_caml").i64_neq(b.attachmentType,d("MessagingAttachmentType.bs").video)&&c("bs_caml").i64_neq(b.attachmentType,d("MessagingAttachmentType.bs").image)&&!n(b);return j.jsxs("div",{className:c("stylex")(q.itemContainer,f?q.fileContainer:!1),children:[j.jsxs("div",{className:c("stylex")(q.previewContainer,f?q.filePreviewContainer:!1),children:[j.jsx(o,{mediaStaging:b}),j.jsx(d("MWV2ComposerMediaProgressBar.bs").make,{height:4,mediaStaging:b})]}),j.jsx(m,{onPress:a})]})}r.displayName=r.name+" [from "+f.id+"]";f={make:r};function a(a){var b=a.mediaStaging,c=a.onAttachmentRemoved,d=a.onAttachmentsAdded;a=a.supportedFileTypes;if(b.length===0)return null;else return j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[j.jsx(l,{onAttachmentsAdded:d,supportedFileTypes:a}),b.map(function(a){return j.jsx(r,{mediaStaging:a,onAttachmentRemoved:c},a.offlineAttachmentId)})]})}a=a;b=b;e=e;var s=n;p=p;f=f;a=a;g.UploadPlaceholder=b;g.CloseButton=e;g.isVideoLikeImage=s;g.Preview=p;g.StagingItem=f;g.make=a}),98);
__d("MWV2ComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","MWChatChatButtonColorConstants.bs","MWTooltip.react","bs_curry","bs_int64","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__2kGg_y6m8FS__JHASH__"),k={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onSendMessage,f=a.thread;a=a.disabled;var g=a!==void 0?a:!1;a=function(a){var b=a.title;a=a.id;return c("bs_curry").app(e,[b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0])};return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{onClose:function(a){},onSelect:a,pageId:c("bs_int64").to_string(f.threadKey)},popoverResource:c("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.bs"),children:function(a,e,f,h,l,m,n){return i.jsx(c("MWTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:g,label:j,onPress:function(a){return c("bs_curry")._1(e)},overlayDisabled:g,overlayRadius:"50%",ref:a,xstyle:function(a){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx("svg",{className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.strokeGrey),height:"20",viewBox:"0 0 24 18",width:"20",children:i.jsxs("g",{stroke:b,strokeLinecap:"round",strokeWidth:"2.5",children:[i.jsx("path",{d:"M1.5,1.5 H22.5"}),i.jsx("path",{d:"M1.5,9 H22.5"}),i.jsx("path",{d:"M1.5,16.5 H22.5"})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("Navigator.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a}),null);
__d("MWV2ComposerPlusButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MWChatComposerIcons.bs","MWTooltip.react","Navigator.bs","Promise","bs_caml_option","bs_curry","gkx","qex","react","requireDeferred","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerPlusButton.bs");function k(a){var e=i.useState(function(){return{_0:void 0,TAG:0}}),f=e[1],g=e[0];e=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog").__setRef("MWV2ComposerPlusButton.bs"));var h=e[0],k=function(a){return h({contentType:"accessDenied",onAllow:function(a){},onClose:function(a){}},function(a){})},l=function(d){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(d){f(function(a){return{_0:void 0,TAG:1}});c("bs_curry")._1(a.start,d);return b("Promise").resolve()})["catch"](function(a){a.name==="NotAllowedError"?(f(function(a){return{_0:void 0,TAG:2}}),k()):f(function(a){return{_0:void 0,TAG:3}});j.onReady(function(a){return c("bs_curry")._1(a.logBrowserDenyAccess)});return b("Promise").resolve()})},m=function(a){return h({contentType:"askForAccess",onAllow:function(a){return l()},onClose:function(a){}},function(a){})};return function(a){switch(g.TAG){case 0:a=d("Navigator.bs").query({name:"microphone"});a!==void 0?c("bs_caml_option").valFromOption(a).then(function(a){a=a.state;switch(a){case"denied":f(function(a){return{_0:void 0,TAG:2}});k();break;case"granted":l();break;case"prompt":m();break;default:m()}return b("Promise").resolve()})["catch"](function(a){m();return b("Promise").resolve()}):(l(),j.onReady(function(a){return c("bs_curry")._1(a.logMicAccessCheckFailed)}));return;case 2:return k();case 1:case 3:return l()}}}var l={plusButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginTop:"x1gslohp",marginBottom:"x12nagc",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b,e=a.canSendAudioClip,f=a.canSendPayment,g=a.color,m=a.isInputExpanded,n=a.onAttachmentsAdded,o=a.onSendMessage,p=a.renderExtraOverflowMenuItems,q=a.supportedFileTypes,r=a.thread,s=a.voiceRecorder,t=function(a){};a=i.useState(function(){return!1});var u=a[1],v=function(a){return c("bs_curry")._1(u,function(b){return a})},w=d("MAWGating").isStickerEnabled()&&d("LSMessagingThreadTypeUtil.bs").isSecure(r.threadType);b=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").roomCreation,r)&&((b=!c("gkx")("1100")&&c("qex")._("694"))!=null?b:!1);f=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").payment,r)&&!c("gkx")("1787591")&&f;var x=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").pollCreation,r)&&!c("gkx")("1787592");e=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").audioClips,r)&&!c("gkx")("1787585")&&e;var y=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").gif,r)&&!c("gkx")("1787594")&&m,z=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").filePicker,r)&&!c("gkx")("1787595")&&m;w=!c("gkx")("1787596")&&(d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").sticker,r)||w)&&m;var A=i.useMemo(function(){if(p!==void 0)return c("bs_curry")._3(p,g,t,n);else return[]},[p,g,t,n]),B=b||f||x||e||y||z||w||A.length>0,C=!B;B=k(s);var D=s.state,E;E=D.TAG===0?!1:!0;var F=E?h._("__JHASH__tnRfHlva-bL__JHASH__"):a[0]?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__");return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:v,popoverProps:{color:g,extraItems:A,isInputExpanded:m,onAttachmentsAdded:n,onClose:t,onPressVoiceClip:B,onSendMessage:o,showCreatePoll:x,showCreateRoom:b,showFile:z,showGif:y,showPayment:f,showSendVoiceClip:e,showSticker:w,supportedFileTypes:q,threadKey:r.threadKey},popoverResource:c("JSResourceForInteraction")("MWV2ComposerOverflowMenu").__setRef("MWV2ComposerPlusButton.bs"),position:"above",preloadTrigger:"button",children:function(a,b,e,f,h,k,m){return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:F,children:i.jsx(c("CometPressable.react"),{"aria-label":F,disabled:C,onHoverIn:c("bs_curry").__1(f),onHoverOut:function(a){return c("bs_curry")._1(h)},onPress:function(a){if(E){c("bs_curry")._1(s.reset);j.onReady(function(a){return c("bs_curry")._1(a.logDeleteRecording)});return}else return c("bs_curry")._1(b)},onPressIn:c("bs_curry").__1(k),overlayDisabled:C,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(a){return[c("gkx")("571")?l.plusButtonMDS:l.plusButtonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MoreActions.make,{fill:C?void 0:g,isRotated:E,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.$MWChatAudioLog$Deferred=j;g.make=f}),98);
__d("MWV2ComposerView.bs",["CometMessengerComposerInner.react","CometPlaceholder.react","LSMediaUrl.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","Locale","MAWGating","MWAudioRecorder.bs","MWCMThreadTypes.bs","MWPActor.bs","MWPThreadTheme.bs","MWPUseVoiceRecorder.bs","MWTooltipGroup.react","MWUseAriaDescribedByForComposer.bs","MWV2ChatGrowingHotlikeButton.bs","MWV2ComposerEmojiButton.bs","MWV2ComposerFileButton.bs","MWV2ComposerGifButton.bs","MWV2ComposerMediaStaging.bs","MWV2ComposerPersistentMenuButton.bs","MWV2ComposerPlusButton.bs","MWV2ComposerRoundedCorners.bs","MWV2ComposerSendButton.bs","MWV2ComposerStickerButton.bs","MWV2IsTabFocusedContext.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","UseCurrentDisplayMode.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","gkx","killswitch","react","requireDeferred","stylex","useCometUniqueID","useCurrentDisplayMode","useDeferredModuleOnReady","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.bs"),j=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerView.bs"),k={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},composer:{display:"x78zum5",flexGrow:"x1iyjqo2",transition:"x6q2ic0",$$css:!0},container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},emojiButton:{end:"xds687c",$$css:!0},fileButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},fileButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},gifButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},gifButtonShown:{transitionDelay:"x5w5eug",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",fontSize:"x6prxxf",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},stickerButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},stickerButtonShown:{transitionDelay:"x5h36tt",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function l(a){var b=d("MWPActor.bs").useActor(),e=c("useReStore")(),f=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),function(a){return[d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0})),a]})},[e,JSON.stringify(a.threadKey)])),g=h.useMemo(function(){return f.reduce(function(a,d){var e=d[0];if(e!==void 0&&c("bs_caml").i64_neq(e.id,b))return a.concat([[e,d[1]]]);else return a},[])},[f,b]);return h.useMemo(function(){return new Map(g.map(function(a){var b=a[1];a=a[0];var e=b.isAdmin,f=c("bs_int64").to_string(a.id),g=a.name,h=a.name;b=b.nickname;var i=d("LSMediaUrl.bs").Contact.profilePictureUrl(a);e=e!==void 0?e:!1;var j=a.workJobTitle,k=a.secondaryName;h={actualName:h,contactId:f,isAdmin:e,isContact:!0,jobTitle:j,name:g,nickname:b,profilePictureUrl:i,profileUrl:void 0,secondaryName:k};return[c("bs_int64").to_string(a.id),h]}))},[g])}function m(a){var b=c("useDeferredModuleOnReady")(i);h.useEffect(function(){if(!(b==null))return c("bs_curry")._2(b,a,16)},[a,b])}function a(a){var e=a.isSendDisabled,f=a.canSendAudioClip,g=a.canSendFile===void 0?!0:a.canSendFile,i=a.canSendGif===void 0?!0:a.canSendGif,n=a.canSendPayment,o=a.canSendSticker===void 0?!0:a.canSendSticker,p=a.useMentionsPlugin,q=a.composerLinkPreview,r=a.editor,s=a.editorElementRef,t=a.hasStuffToSend,u=a.localTimezoneInformation,v=a.maxAudioDuration,w=a.mediaStaging,x=a.onAttachmentRemoved,y=a.onAttachmentsAdded,z=a.onSendMessage,A=a.policyProduct,B=a.renderExtraOverflowMenuItems,C=a.sendMessage,D=a.supportedFileTypes,E=a.surface;a=a.thread;e=e!==void 0?e:!1;f=f!==void 0?f:!0;n=n!==void 0?n:!1;p=p!==void 0?p:!0;var F=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),G=d("MWCMThreadTypes.bs").isBroadcastThread(a.threadType),H=d("MWV2IsTabFocusedContext.bs").useContext(),I=d("MWPThreadTheme.bs").useBottom(),J=c("useCurrentDisplayMode")();J=J===d("UseCurrentDisplayMode.bs").darkTheme&&F?"var(--always-white)":I;I=e||!H?void 0:J;H=h.useCallback(function(a){j.onReady(function(a){return c("bs_curry")._1(a.logClickStartRecording)})});J=h.useCallback(function(a){j.onReady(function(a){return c("bs_curry")._1(a.logBrowserDenyAccess)})});var K=d("MWPUseVoiceRecorder.bs").useVoiceRecorder(v,H,J);v=K.state;H=v.TAG===0?!1:!0;J=function(a){c("bs_curry")._1(K.getVoiceClip,K.state).then(function(a){c("bs_curry")._1(K.reset);c("bs_curry").app(z,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0]);return b("Promise").resolve()})};v=l(a);var L=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").mentions,a),M=d("Locale").isRTL(),N=d("MAWGating").isStickerEnabled()&&F;o=o&&!c("gkx")("1787596")&&(d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").sticker,a)||N);i=i&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").gif,a)&&!c("gkx")("1787594");g=g&&(G?!c("gkx")("1787595")&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").filePicker,a):!c("gkx")("1787595"));G=c("gkx")("571");var O=G?[36,8]:[32,4],P=O[0];O=O[1];var Q=0+P|0,R=Q+P|0,S=M?{right:0..toString()+"px"}:{left:0..toString()+"px"};Q=M?{right:Q.toString()+"px"}:{left:Q.toString()+"px"};var T=M?{right:R.toString()+"px"}:{left:R.toString()+"px"};M=M?{marginRight:t?G?8..toString()+"px":"0":((R+P|0)+O|0).toString()+"px"}:{marginLeft:t?G?8..toString()+"px":"0":((R+P|0)+O|0).toString()+"px"};R=d("MWUseAriaDescribedByForComposer.bs").useHook(a);P=c("useCometUniqueID")();m(r);O={canSendAudioClip:f,canSendPayment:n,color:I,isInputExpanded:t,onAttachmentsAdded:y,onSendMessage:z,supportedFileTypes:D,thread:a,voiceRecorder:K};B!==void 0&&(O.renderExtraOverflowMenuItems=c("bs_caml_option").valFromOption(B));return h.jsxs("div",{className:"xuk3077 x78zum5 x6prxxf xz9dl7a xsag5q8","data-testid":void 0,children:[h.jsx(d("MWV2ComposerPlusButton.bs").make,babelHelpers["extends"]({},O)),H?h.jsxs(h.Fragment,{children:[h.jsx(d("MWAudioRecorder.bs").make,{voiceRecorder:K}),h.jsx(d("MWV2ComposerSendButton.bs").make,{color:I,disabled:e,onPress:J})]}):null,h.jsxs("div",{className:c("stylex")(H?k.hidden:!1,k.container),children:[h.jsxs(c("MWTooltipGroup.react"),{children:[h.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm"+((t?" x1th4bbo":" x1th4bbo")+((G?" xat24cr":" x12nagc xw3qccf")+(t?" x1f85oc2 x1g2r6go x11xpdln":" x3oybdh x1g2r6go x11xpdln"))),style:S,children:h.jsx(d("MWV2ComposerFileButton.bs").make,{color:I,disabled:!g,onAttachmentsAdded:y,supportedFileTypes:D})}),h.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm"+((t?" x5zdck6":" x5h36tt")+((G?" xat24cr":" x12nagc xw3qccf")+(t?" x1f85oc2 x1g2r6go x11xpdln":" x3oybdh x1g2r6go x11xpdln"))),style:Q,children:h.jsx(d("MWV2ComposerStickerButton.bs").make,{color:I,disabled:!o,onSendMessage:z,useSecureSend:N})}),h.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm"+((t?" x1ahifba":" x5w5eug")+((G?" xat24cr":" x12nagc xw3qccf")+(t?" x1f85oc2 x1g2r6go x11xpdln":" x3oybdh x1g2r6go x11xpdln"))),style:T,children:h.jsx(d("MWV2ComposerGifButton.bs").make,{color:I,disabled:!i,isSecureThread:F,onSendMessage:z})})]}),u!==void 0?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:c("bs_caml_option").valFromOption(u)}):null,q!==void 0?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:c("bs_caml_option").valFromOption(q)}):null,h.jsxs("div",{className:"x78zum5 x1iyjqo2 x6q2ic0",style:M,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:P,children:R}),h.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:P,contentEditableRef:s,editor:r,handlePastedFiles:y,participants:v,policyProduct:A,surface:E,testId:"chat_input:rich-input",threadID:c("bs_int64").to_string(a.threadKey),topContent:h.jsx(d("MWV2ComposerMediaStaging.bs").make,{mediaStaging:w,onAttachmentRemoved:x,onAttachmentsAdded:y,supportedFileTypes:D,thread:a}),useMentionsPlugin:p&&L&&d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)})]}),h.jsx("div",{className:c("stylex")(H?k.hidden:!1,k.button,G?k.buttonMDS:k.buttonFDS,k.emojiButton),children:h.jsx(d("MWV2ComposerEmojiButton.bs").make,{color:I,editor:r})}),H?null:h.jsx(d("MWV2ComposerRoundedCorners.bs").TopRight.make,{}),H?null:h.jsx(d("MWV2ComposerRoundedCorners.bs").BottomRight.make,{})]}),H?null:t?h.jsx(d("MWV2ComposerSendButton.bs").make,{color:I,disabled:e,onPress:function(a){return c("bs_curry")._1(C)}}):a.hasPersistentMenu&&!c("killswitch")("MESSENGER_WEB_PERSISTENT_MENU")?h.jsx(d("MWV2ComposerPersistentMenuButton.bs").make,{color:I,disabled:e,onSendMessage:z,thread:a}):h.jsx(d("MWV2ChatGrowingHotlikeButton.bs").make,{color:I,disabled:e,onSendMessage:z,thread:a})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=m;a=e;g.$MWChatAudioLog$Deferred=j;g.useParticipantsExcludingViewer=l;g.useEmojiTextNodeTransform=f;g.make=a}),98);
__d("MWV2FileDropzone.bs",["fbt","LS.bs","LSIssueNewError","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWCMThreadTypes.bs","MWText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=i.createContext(null);function k(a){var b=a.children;a=a.fileUploadHandlerRef;return i.createElement(j.Provider,{children:b,value:a})}b={make:k};var l={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function m(a){if(a==null)return[];a=a.dataTransfer;if(a==null)return[];else return a.types}function n(a,b){var e=b!==0?b!==1?h._("__JHASH__UaK2GgtSNQH__JHASH__").toString():h._("__JHASH__M7mGXjgzxvT__JHASH__").toString():void 0;if(e===void 0)return;b=a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,e,e,void 0,d("LS.bs").make(a))},"readwrite");c("promiseDone")(b)}function o(a){if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;else return a.type.startsWith("audio/")}e=["text/plain","text/html","text/uri-list"];var p=new Set(e);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var j=i.useRef(null),q=c("useReStore")();g=g!==void 0?d("MWCMThreadTypes.bs").isBroadcastThread(g.threadType)&&!d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").filePicker,g):!1;var r=!c("gkx")("1835569"),s=!!e||r||j.current==null||g;e=function(a){var b=j.current;if(b==null)return!1;else return!m(a).some(function(a){return p.has(a)})};r=c("useFileDragEvents")(function(a){return!1},void 0,e);g=i.useCallback(function(a){var b=j.current;if(b==null)c("recoverableViolation")("Could not find fileUploadHandlerRef to handle dropped file!","messenger_comet");else{a=Array.from(a);var d=f?a.filter(o):a;a.length!==d.length&&n(q,a.length);!s&&d.length!==0&&b(d)}},[q,s,f]);e=i.useRef(null);c("useFileDragEvents")(g,e.current,function(a){return!0});return i.jsxs("div",{className:c("stylex")(l.root,(g=a)!=null?g:!1),ref:e,children:[i.jsx(k,{fileUploadHandlerRef:j,children:b}),!s&&r?i.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:i.jsx(c("MWText.react"),{type:"body1",children:h._("__JHASH__t6-mJeiR6At__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=j;b=b;var q=m;e=e;var r=p;f=f;g.context=a;g.ContextProvider=b;g.getMediaTypes=q;g.ignoredMediaTypes=e;g.ignoredMediaTypesSet=r;g.make=f}),98);
__d("MAWOptimisticUpdateContactRelationship.bs",["LSMessagingThreadTypeUtil.bs","ReQL.bs","bs_caml","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)){c("promiseDone")(b.runInTransaction(function(f){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,e)})).then(function(a){if(a===void 0)return;a=a[1];var b=babelHelpers["extends"]({},a,{contactViewerRelationship:[0,2]});return f.table("contacts").upsert({hd:a.id,tl:0},b)})},"readwrite"));return}}b=a;g.call=b}),98);
__d("MWMediaTraceHandler.bs",["LS.bs","LSAppendDataTraceAddon","LSDataTraceCheckPoint.bs","LSDataTraceType.bs","MAWTimeUtils","WATimeUtils","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:c("bs_caml_int64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:d("LSDataTraceType.bs").task})}function a(a,b,e,f){return h(a,b).then(function(g){return c("LSAppendDataTraceAddon")(b,d("LSDataTraceCheckPoint.bs").richMediaUploadStart,c("bs_caml_int64").neg_one,void 0,c("bs_int64").to_string(e)+","+c("bs_int64").to_string(f),d("LS.bs").make(a))})}g.logMediaSendStart=a}),98);
__d("MWPSendMessageLogger.bs",["MWMediaTraceHandler.bs","MessagingBackend.bs","Promise","SendEventType.bs","bs_curry","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger.bs");function a(a,b,e,f,g,i,j,k,l){h.onReady(function(h){return c("bs_curry").app(h.log,[a,b,e,g,i,f,j,k,l,d("SendEventType.bs").sendAttempt,d("MessagingBackend.bs").messengerInfra,void 0,void 0,void 0,void 0])})}function e(a,c,e,f){if(c!==void 0)return d("MWMediaTraceHandler.bs").logMediaSendStart(a,c,e,f);else return b("Promise").resolve()}g.$MWLogSend$Deferred=h;g.log=a;g.logMediaSendStart=e}),98);
__d("MWV2SendOpenMessage.bs",["LS.bs","LSAuthorityLevel.bs","LSDict","LSFlushDataTrace.bs","LSGenerateTraceId","LSInsertNewMediaSend","LSInt64.bs","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSUpdateDraftMessage","LSVec","LsMessageRequestsActions.bs","MAWDualSendPermissionsManager.bs","MAWOptimisticUpdateContactRelationship.bs","MWConsole","MWLSDefaultThreadSource.bs","MWLSLogSend.bs","MWMediaTraceHandler.bs","MWPActor.bs","MWPComposerMediaUploadUtil.bs","MWPOpenComposerUtils.bs","MWPReplyContext.bs","MWPSendMessageLogger.bs","MWVersion.bs","MessageRequestsLog.bs","MessagingLoggingUtils.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","MessengerWebEventsFalcoEvent.bs","OfflineThreadingId.bs","Promise","ReQL.bs","ReStoreVaulting.bs","SortedAsyncIterable.bs","URLMatcher","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","qpl","react","useCometInteractionTracing","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,c,e,f){if(c!==void 0)return d("MWMediaTraceHandler.bs").logMediaSendStart(a,c,e,f);else return b("Promise").resolve()}function j(a,b,e,f,g){if(a===void 0)return;if(!a.startsWith("blob:"))return;var h={contents:function(a){}};h.contents=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:f,tl:0}),function(d,e){switch(e.TAG){case 1:d=e._0;if(d.attachmentFbid!==b.toString())return;e=d.playableUrl;if(e!==void 0&&!e.startsWith("blob:")){c("bs_curry")._1(h.contents);URL.revokeObjectURL(a);return}else return;case 0:case 2:return}})}function a(a,e,f,g){var k=c("useReStore")(),l=d("MWPActor.bs").useActor(),m=h.useContext(d("MWPReplyContext.bs").context),n=m.clearReply,o=m.reply,p=d("LSMessagingInitiatingSourceHook.bs").useHook(),q=d("MAWDualSendPermissionsManager.bs").useIsThreadEligible(a.threadKey,a.threadType),r=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").splitMultiSendPhoto,a),s=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION"),t=d("MWLSDefaultThreadSource.bs").useHook();return h.useMemo(function(){return function(h,m,u,v,w,x,y,z,A,B,C){var D=d("LSMessagingThreadTypeUtil.bs").isMessageRequest(a);return s(function(s){s.addAnnotationInt("is_pdb_enabled",c("gkx")("6543")?1:0);var E=c("bs_curry")._1(t,a.threadKey),F={contents:!0},G=c("LSGenerateTraceId")(),H={contents:d("MessagingLoggingUtilsAttachmentTypeInt.bs").none},I=k.runInTransaction(function(e){var n=d("LS.bs").make(e);return c("LSUpdateDraftMessage")(a.threadKey,"",n).then(function(t){if(z===void 0)return d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(e.table("media_staging")),function(b){if(b.isSent)return!1;else return c("bs_caml").i64_eq(b.threadKey,a.threadKey)})).then(function(j){var t=m!==void 0?c("bs_caml_option").some(c("LSDict").fromObject({mention_ids:m.map(function(a){return a.id}).join(","),mention_lengths:m.map(function(a){return String(a.length)}).join(","),mention_offsets:m.map(function(a){return String(a.offset)}).join(","),mention_types:m.length!==0?m.map(function(a){return a.type}).join(","):void 0})):void 0,z=h!==void 0?d("ReStoreVaulting.bs").maybeUnvault(h).trim()!=="":!1,I=u!==void 0?(H.contents=d("MessagingLoggingUtilsAttachmentTypeInt.bs").sticker,!0):!1,J=x!==void 0?(H.contents=d("MessagingLoggingUtilsAttachmentTypeInt.bs").gif,!0):!1,K=c("gkx")("4296");K=K&&h!==void 0?c("URLMatcher").permissiveHostPathMatch(h)!=null:void 0;t=z||I||J?c("LSOptimisticSendMessage")(l,a.threadKey,a.threadType,d("LSMailboxType.bs").messenger,h!==void 0?c("bs_caml_option").valFromOption(h):void 0,void 0,void 0,u!==void 0?c("bs_caml_option").valFromOption(u):void 0,v!==void 0?c("bs_caml_option").valFromOption(v):void 0,x!==void 0?c("bs_caml_option").valFromOption(x):void 0,w!==void 0?c("bs_caml_option").valFromOption(w):void 0,E,void 0,A!==void 0?c("bs_caml_option").valFromOption(A):void 0,c("bs_caml_option").option_get(o!==void 0?o.messageId:void 0),c("bs_caml_option").option_get(o!==void 0?d("LSMessageReplySourceType.bs").message:void 0),c("bs_caml_option").option_get(o!==void 0?d("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,void 0,t!==void 0?c("bs_caml_option").valFromOption(t):void 0,c("bs_caml").i64_ge(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative),!1,y!==void 0?c("bs_caml_option").valFromOption(y):void 0,p!==void 0?c("bs_caml_option").valFromOption(p):void 0,G!==void 0?c("bs_caml_option").valFromOption(G):void 0,g!==void 0?c("bs_caml_option").valFromOption(g):void 0,K,n).then(function(e){c("bs_curry")._1(d("MWLSLogSend.bs").logSentWithHeroInteraction(s,e[0],p,o!==void 0,d("MWVersion.bs").v2,a.threadType)(q),D);f!==void 0&&c("bs_curry")._1(f,{_0:e[0],_1:z,_2:I,_3:J,TAG:0});return b("Promise").resolve(e)}):b("Promise").resolve();K=function(a){return a.then(function(a){if(B===void 0)return b("Promise").resolve();if(a!==void 0){a=a[0];c("bs_curry")._1(B,a);return b("Promise").resolve(a)}c("bs_curry")._1(B);return b("Promise").resolve()})};if(j.length===0)return K(t).then(function(c){d("MWPSendMessageLogger.bs").log(k,a.threadKey,a.threadType,l,c,[],E,H.contents,o!==void 0);return b("Promise").resolve()});var L=j[0];H.contents=d("MessagingLoggingUtils.bs").convertToAttachmentType(L.attachmentType);return K(t).then(function(g){return d("MWPComposerMediaUploadUtil.bs").createPartitionedAttachments(j,r).reduce(function(h,m){return h.then(function(h){var q=c("LSGenerateTraceId")();return c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,c("bs_caml_option").option_get(o!==void 0?o.messageId:void 0),c("bs_caml_option").option_get(o!==void 0?d("LSMessageReplySourceType.bs").message:void 0),c("bs_caml_option").option_get(o!==void 0?d("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,c("LSVec").make(m.map(function(a){return c("LSDict").fromObject(a)})),void 0,n).then(function(d){var g=d[0];return e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:p,markThreadRead:!1,messageId:void 0,offlineThreadingId:g,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:c("bs_caml_format").caml_int64_of_string(g),threadAttributionSource:E,threadKey:a.threadKey}).then(function(a){f!==void 0&&c("bs_curry")._1(f,{_0:g,_1:m.length,TAG:2});return b("Promise").resolve(g)})}).then(function(a){return i(e,q,c("bs_caml_int64").of_int32(m.length),H.contents).then(function(b){return[a,q]})}).then(function(f){var h=f[1],i=f[0];return b("Promise").all(m.map(function(b,f){return c("LSInsertNewMediaSend")(b.attachment_fbid,i,c("bs_caml_int64").of_int32(f),b.attachment_type,!1,!1,!1,!1,n).then(function(f){f=j.find(function(a){return c("bs_caml_obj").caml_equal(a.offlineAttachmentId,b.offline_attachment_id)});if(f!==void 0){var g=f.fbid;if(g!==void 0)return c("LSMarkSubJobCompletedV2")(b.attachment_fbid,g,void 0,void 0,void 0,n).then(function(a){return d("MWPOpenComposerUtils.bs").deleteMediaStaging(e,b.attachment_fbid)}).then(function(f){return d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,i,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0,attachmentFbid:c("bs_int64").to_string(g)})})})}F.contents=!1;return d("MWPOpenComposerUtils.bs").updateMediaStaging(e,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}}).then(function(c){return d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,i,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})})})})})).then(function(b){d("MWPSendMessageLogger.bs").log(k,a.threadKey,a.threadType,l,g,m.map(function(a){return d("LSInt64.bs").ofString(a.attachment_fbid)}),E,H.contents,o!==void 0);return d("MWPOpenComposerUtils.bs").resumeSendJob(n,i,h)})}).then(function(a){return d("LSFlushDataTrace.bs").updateAndFlushTrace(e,c("bs_belt_Option").getExn(q))})})},b("Promise").resolve()).then(function(e){e=c("bs_int64").to_string(a.threadKey);e=d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)?[e,null]:[null,e];var f=e[0],g=e[1];d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:F.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:g,thread_fbid:f}});return b("Promise").resolve()})})});t=d("OfflineThreadingId.bs").make();var I=d("MWPComposerMediaUploadUtil.bs").getAudioAttachment(t,z.file,z.duration);return i(e,G,c("bs_caml_int64").one,d("MessagingLoggingUtilsAttachmentTypeInt.bs").fbVoiceMessage).then(function(b){return c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,c("bs_caml_option").option_get(o!==void 0?o.messageId:void 0),c("bs_caml_option").option_get(o!==void 0?d("LSMessageReplySourceType.bs").message:void 0),c("bs_caml_option").option_get(o!==void 0?d("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,c("LSVec").make([c("LSDict").fromObject(I)]),void 0,n)}).then(function(d){var h=d[0];return e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:p,markThreadRead:!1,messageId:void 0,offlineThreadingId:h,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:g,taskId:c("bs_caml_format").caml_int64_of_string(h),threadAttributionSource:E,threadKey:a.threadKey}).then(function(a){f!==void 0&&c("bs_curry")._1(f,{_0:h,TAG:1});return b("Promise").resolve(h)})}).then(function(a){var d=I.attachment_fbid;return c("LSInsertNewMediaSend")(d,a,c("bs_caml_int64").zero,I.attachment_type,!1,!1,!1,!1,n).then(function(c){return b("Promise").resolve([a,d])})}).then(function(e){var f=e[1],g=e[0];e=function(e,h){k.runInTransaction(function(e){var i=d("LS.bs").make(e);return c("LSMarkSubJobCompletedV2")(f,c("bs_caml_int64").of_float(h),void 0,void 0,void 0,i).then(function(a){return d("MWPOpenComposerUtils.bs").resumeSendJob(i,g,G)}).then(function(c){j(I.playable_url,h,k,a.threadKey);return b("Promise").resolve()})},"readwrite");return d("MWPSendMessageLogger.bs").log(k,a.threadKey,a.threadType,l,g,[d("LSInt64.bs").string(c("bs_caml_int64").of_float(h))],E,d("MessagingLoggingUtils.bs").convertToAttachmentType(I.attachment_type),o!==void 0)};d("MWPComposerMediaUploadUtil.bs").startUpload(void 0,e,void 0,!0,[z.file],[f]);return b("Promise").resolve()})})},"readwrite","ui").then(function(f){c("bs_curry")._1(e);c("bs_curry")._2(n,a.threadKey,!1);d("MAWOptimisticUpdateContactRelationship.bs").call(a,k,l);D&&d("MessageRequestsLog.bs").logActionTapped(a,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").accept));return b("Promise").resolve()});c("promiseDone")(I)})}},[c("bs_int64").to_string(a.threadKey),o,n,e,JSON.stringify(a.authorityLevel),p,s,g])}e=a;g.useOnSendOpenMessage=e}),98);
__d("MWPOpenTypingState.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","LSSendTypingIndicator","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","bs_belt_Option","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,e,f,g){if(c("bs_caml").i64_eq(f,d("MessagingThreadType.bs").oneToOne)&&c("bs_caml").i64_neq(e,g))return d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:e,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,g)}),function(b){return c("bs_belt_Option").mapWithDefault(d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b.contactId,tl:0})),!1,function(a){return c("bs_caml").i64_eq(a.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return b("Promise").resolve(c("bs_belt_Option").getWithDefault(a,!1))});else return b("Promise").resolve(!0)}function a(a){var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return h.useCallback(function(g){if(!c("bs_caml").i64_ge(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative))return;var h=i(e,a.threadKey,a.threadType,f).then(function(f){if(f)return e.runInTransaction(function(b){return c("LSSendTypingIndicator")(a.threadKey,d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType),g,d("LS.bs").make(b))},"readwrite");else return b("Promise").resolve()});c("promiseDone")(h)},[e,JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),JSON.stringify(a.threadType),f])}e=a;g.useOnTypingStateChanged=e}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","MWPOpenTypingState.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=function(a){return void 0};function a(a){var b=d("MWPOpenTypingState.bs").useOnTypingStateChanged(a),e=c("MWChatViewerChatVisibilityHook")();return h(function(){return e?b:i},[b,e])}g["default"]=a}),98);
__d("MWV2OpenComposer.bs",["MWMediaManager.bs","MWPComposerEditor.bs","MWPReplyContext.bs","MWV2ComposerReplyView.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","MWV2SendOpenMessage.bs","bs_curry","react","useMWOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.forwardRef(function(a,b){var e=a.thread,f=a.isPreviewThread,g=a.afterSendMessage;a=a.onSendEmptyMessage;var i=h.useContext(d("MWPReplyContext.bs").context);i=i.reply;var j=function(a){return function(b){var c,e=!1;return d("MWV2SendOpenMessage.bs").useOnSendOpenMessage(a,b,c,e)}},k=d("MWMediaManager.bs").useMediaManager(e),l=k.mediaStaging,m=k.handleFileRemove,n=k.handleFileSelect,o=j(e)(g);k=c("useMWOnTypingStateChanged")(e);h.useImperativeHandle(b,function(){return c("bs_curry").__1(n)},[n]);return h.jsxs("div",{children:[i!==void 0?h.jsx(d("MWV2ComposerReplyView.bs").make,{messageId:i.messageId,messageTimestamp:i.timestampMs,thread:e}):null,h.jsx(d("MWPComposerEditor.bs").make,{isPreviewThread:f,mediaStaging:l,onSendEmptyMessage:a,onSendMessage:o,onTypingStateChanged:k,policyProduct:"messaging_lightswitch",surface:"mwp_mwv2_composer",thread:e,children:function(a,b,c,f,g,i){return h.jsx(d("MWV2ComposerView.bs").make,{editor:a,editorElementRef:g,hasStuffToSend:f,mediaStaging:l,onAttachmentRemoved:m,onAttachmentsAdded:n,onSendMessage:o,policyProduct:c,sendMessage:i,supportedFileTypes:void 0,surface:b,thread:e})}})]})});b={make:i};function j(a){}function a(a){var b=a.isPreviewThread,c=a.thread,e=a.afterSendMessage;a=a.onSendEmptyMessage;e=e!==void 0?e:j;a=a!==void 0?a:j;var f=h.useContext(d("MWV2FileDropzone.bs").context);return h.jsx(i,{afterSendMessage:e,isPreviewThread:b,onSendEmptyMessage:a,ref:f,thread:c})}e=a;f=b;a=e;g.Inner=f;g.make=a}),98);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2});f["default"]=a}),66);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.height;return h.jsx("div",{className:"xzg4506",style:{height:a.toString()+"px"}})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.height;return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(i,{height:a}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MwbActorExperienceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("3231");c=b("FalcoLoggerInternal").create("mwb_actor_experience_event",a);e.exports=c}),null);
__d("useMWPBlockedComposerConfiguration",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil.bs","MWLSThreadReportingToken.bs","MWPActor.bs","MWPComposerPlaceholder.react","MwbActorExperienceEventFalcoEvent","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function l(a){var b=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),c=d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType);a=d("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:d("LSIntEnum").toNumber(a)}function n(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}function a(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("I64").equal(e,a.threadKey),g=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return f||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,f]),o=m(g);j(function(){g!=null&&d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)&&o!==c("LSContactReachabilityStatusType").REACHABLE&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,other_user:{id:d("I64").to_string(g.id),is_fbid:!0},restriction_type:n(o),surface:l(a),thread_id:d("I64").to_string(a.threadKey)}})},[a,g,o]);if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)&&g!=null){var p=d("MWLSThreadReportingToken.bs").fromThread(a),q=!d("I64").equal(g.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(o!==c("LSContactReachabilityStatusType").REACHABLE){var r=h._("__JHASH__fhugwjm3lRF__JHASH__");return i.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:i.jsx(k,{fbid:d("I64").to_string(g.id),isReachable:!1,reportingToken:void 0,thread:a,unreachableTitle:r})})}if(q)return i.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:i.jsx(k,{fbid:d("I64").to_string(g.id),reportingToken:p,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPBusinessSupportCaseClosedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil.bs","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBusinessSupportCaseClosedComposer.react").__setRef("useMWPBusinessSupportCaseClosedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil.bs").isBusinessSupportThread(a)?d("ReQL").fromTableAscending(b.table("business_support_case_details")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a]);e=(e==null?void 0:e.status)==="Completed";if(e)return h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPCutoverComposerConfiguration",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","MAWThreadCutover.bs","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCutoverComposer.react").__setRef("useMWPCutoverComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a]),f=d("MAWThreadCutover.bs").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(128),a);if(f&&(!d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)||e!=null))return h.jsx(i,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2DisabledPageComposer.bs",["fbt","ix","CometLazyPopoverTrigger.react","JSResource","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWPActor.bs","MessagingThreadType.bs","TetraButton.react","bs_curry","bs_int64","fbicon","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function k(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("LSMessagingSource.bs").useHook();return j.useCallback(function(a){return function(g,h){var i=b.runInTransaction(function(b){var i=d("LSThreadAttributionTypeUtil.bs").getSource(a,f);return c("LSOptimisticSendMessage")(e,a,d("MessagingThreadType.bs").oneToOne,d("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,i,void 0,h,void 0,d("LSMessageReplySourceType.bs").message,d("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,void 0,d("LS.bs").make(b))},"readwrite");c("promiseDone")(i)}},[b,e])}function a(a){a=a.thread;var b=k(),e=a.threadKey,f=function(a){var d=a.title;a=a.id;return c("bs_curry")._3(b,e,d,a)};return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(a){},onSelect:f,pageId:c("bs_int64").to_string(a.threadKey)},popoverResource:c("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.bs"),children:function(a,b,e,f,g,k,l){return j.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou",ref:a,children:j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("512878"),20),label:h._("__JHASH__pzPWkkyVYqg__JHASH__"),onPress:function(a){return c("bs_curry")._1(b)},reduceEmphasis:!0})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(a.disableComposerInput&&a.hasPersistentMenu)return h.jsx(d("MWV2DisabledPageComposer.bs").make,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil.bs","MAWGating","MWLSFeatureLimitedStatus.bs","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPFeatureLimitsBlockedComposer.react").__setRef("useMWPFeatureLimitsBlockedComposerConfiguration"));function a(a){a=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);a=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!a||d("MAWGating").isFeatureLimitEnabled());if(a)return h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.re","ReQL","ReQLSuspense","justknobx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){return null}a=function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_nullstate")).getKeyRange(a.threadKey)},[b,a.threadKey]);e=e!=null&&d("I64").equal(e.ctaType,d("I64").of_float(c("LSNullstateCTAType").GET_STARTED));var f=!d("I64").equal(a.lastActivityTimestampMs,d("I64").zero),g=d("LSThreadBitOffset.bs").has(c("LSThreadCapabilityBitOffset.re").gamesBotThread,a),j=c("justknobx")._("926");if(e&&!f||!j&&g)return h.jsx(i,{})};g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset.bs","LSIntEnum","LSMessagingThreadTypeUtil.bs","MWPComposerPlaceholder.react","ReQL","ReQLSuspense","gkx","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a]);if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)&&e!=null){var f;f=c("gkx")("3846")&&((f=d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(66),e))!=null?f:!1);if(f)return h.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:h.jsx(i,{fbid:d("I64").to_string(e.id),thread:a,threadKey:a.threadKey})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPUnavailableComposerConfiguration",["I64","LSContactBitOffset.bs","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil.bs","MWChatUnavailableComposer.bs","MWPActor.bs","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("I64").equal(e,a.threadKey),g=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return f||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,f]);if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)&&g!=null){var i,j;i=(i=d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(0),g))!=null?i:!0;j=(j=d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(1),g))!=null?j:!0;var k=d("I64").equal(g.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE));k=!k&&(!i||!j);if(g.blockedSinceTimestampMs==null&&k)return h.jsx(d("MWChatUnavailableComposer.bs").make,{})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil.bs","MAWDualSendPermissionsManager.bs","MWPComposerGating.react","MWV2OpenComposer.bs","cr:4218","cr:4219","cr:4220","react","useMWPBlockedComposerConfiguration","useMWPBusinessSupportCaseClosedComposerConfiguration","useMWPCutoverComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPFeatureLimitsBlockedComposerConfiguration","useMWPNullComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWPUnavailableComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=((h=b("cr:4220"))!=null?h:{}).make,k=((h=(h=b("cr:4218"))!=null?h:b("cr:4219"))!=null?h:{}).make;function l(a){return[c("useMWPNullComposerConfiguration")(a),c("useMWPDisablePageComposerConfiguration")(a),c("useMWPFeatureLimitsBlockedComposerConfiguration")(a),c("useMWPCutoverComposerConfiguration")(a),c("useMWPBlockedComposerConfiguration")(a),c("useMWPRestrictedComposerConfiguration")(a),c("useMWPUnavailableComposerConfiguration")(a),c("useMWPBusinessSupportCaseClosedComposerConfiguration")(a)]}function m(a){var b=a.afterSendMessage,c=a.isPreviewThread,e=a.onSendEmptyMessage;a=a.thread;var f=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),g=d("MAWDualSendPermissionsManager.bs").useIsThreadEligible(a.threadKey,a.threadType);if(j!=null&&f)return i.jsx(j,{afterSendMessage:b,isPreviewThread:c,onSendEmptyMessage:e,thread:a});else if(k!=null&&g)return i.jsx(k,{afterSendMessage:b,isPreviewThread:c,onSendEmptyMessage:e,thread:a});else return i.jsx(d("MWV2OpenComposer.bs").make,{afterSendMessage:b,isPreviewThread:c,onSendEmptyMessage:e,thread:a})}function a(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=l(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:function(){return i.jsx(m,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}a.displayName=a.name+" [from "+f.id+"]";function e(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=l(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:function(){return i.jsx(m,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}e.displayName=e.name+" [from "+f.id+"]";g.MWChatComposerGating=a;g.MWInboxComposerGating=e}),98);
__d("MWV2ChatTabComposer.bs",["LS.bs","LSAddMessengerContact","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerGating.react","MWPActor.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){}function a(a){var b=a.isPreviewThread,e=a.tab,f=a.thread,g=a.secureThreadToggle;a=a.afterSendMessage;var j=g!==void 0?g:!1,k=a!==void 0?a:i,l=c("useReStore")(),m=d("MWChatStateV2.bs").useDispatch();g=e.tabType;var n;n=g.TAG===0?f.clientThreadKey:g._0.clientThreadKey;var o=d("MWPActor.bs").useActor(),p=h.useCallback(function(a){a=e.tabType;if(a.TAG===0)return c("bs_curry")._1(m,d("MWChatStateActions.bs").lockInTab(Date.now(),e.tabId,{clientThreadKey:f.clientThreadKey,threadKey:f.threadKey,threadType:f.threadType}))},[e,f]);a=h.useCallback(function(a){if(!d("LSMessagingThreadTypeUtil.bs").isGroup(f.threadType))return c("bs_curry")._1(p)},[p,f]);g=h.useCallback(function(a){c("bs_curry")._1(k);c("bs_curry")._1(p);if(n!==void 0&&c("bs_caml").i64_neq(f.authorityLevel,d("LSAuthorityLevel.bs").authoritative)){var b={contents:function(a){}};b.contents=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(l.table("threads").index("clientThreadKey")),{hd:n,tl:0}),function(a,f){switch(f.TAG){case 0:case 1:break;case 2:return}a=f._0;if(c("bs_caml").i64_eq(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative)){c("bs_curry")._1(b.contents);return c("bs_curry")._1(m,d("MWChatStateActions.bs").updateThreadKeyDescriptor(e.tabId,a.threadKey,a.clientThreadKey))}})}if((d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType)||j)&&d("LSMessagingThreadTypeUtil.bs").isOneToOne(f.threadType)){c("promiseDone")(l.runInTransaction(function(a){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(l.table("participants")),{hd:f.threadKey,tl:0}),function(a){return a.contactId}),function(a){return c("bs_caml").i64_neq(a,o)})).then(function(b){if(b!==void 0)return c("LSAddMessengerContact")(b,d("LS.bs").make(a))})},"readwrite"));return}},[f,e,m,JSON.stringify(n),k,l,o]);return h.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:g,isPreviewThread:b,onSendEmptyMessage:a,thread:f})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=i;f=b;g.noop=e;g.make=f}),98);
__d("MWV2InThreadBanner.bs",["CometErrorBoundary.react","LSMessagingThreadTypeUtil.bs","LsThreadType.bs","MWLSInThreadBannerComponent.bs","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;if(d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)||c("bs_caml").i64_eq(a.threadType,d("LsThreadType.bs").discoverablePublicChat))return null;else return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return null},children:h.jsx(d("MWLSInThreadBannerComponent.bs").make,{})})}b=a;e=b;g.make=e}),98);
__d("MWV2ChatTab.bs",["CometErrorBoundary.react","CometTransientDialogProvider.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWInThreadBannerNuxReqCondWrapper.bs","MWChatConnectionStatusCard.bs","MWChatEncryptedBackupsUpsellWrapper.react","MWOpenAndSecureThreadView.bs","MWPThreadIsPage.bs","MWPThreadTheme.bs","MWPVisibleMessageContext.bs","MWSelectedThreadOptionsIdContext.bs","MWThreadKey.bs","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.bs","MWV2InThreadBanner.bs","MWV2TabContainer.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.tab;a=a.thread;var e=!d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").filePicker,a),f=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),g=h.useRef({jumpToMostRecentMessage:function(a){}});e=h.jsxs(h.Fragment,{children:[f?h.jsx(d("MAWInThreadBannerNuxReqCondWrapper.bs").make,{thread:a}):null,h.jsx(d("MWChatConnectionStatusCard.bs").make,{}),h.jsx(d("MWV2InThreadBanner.bs").make,{thread:a}),h.jsxs(d("MWV2FileDropzone.bs").make,{isMediaOnly:e,thread:a,children:[h.jsx(d("MWOpenAndSecureThreadView.bs").make,{messageListRef:g,thread:a}),h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWV2ErrorComposer.bs").make,{})},children:h.jsx(d("MWV2ChatTabComposer.bs").make,{afterSendMessage:function(){var a;(a=g.current)==null?void 0:a.jumpToMostRecentMessage()},isPreviewThread:!1,tab:b,thread:a})})]})]});return h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:a.themeFbid,children:h.jsx(d("MWPThreadIsPage.bs").make,{threadKey:a.threadKey,children:h.jsx(d("MWThreadKey.bs").make,{id:a.threadKey,children:h.jsx(d("MWSelectedThreadOptionsIdContext.bs").make,{threadId:a.threadKey,children:h.jsx(d("MWPVisibleMessageContext.bs").Provider.make,{children:h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(d("MWV2ComposerHasContentContext.bs").make,{children:h.jsxs(d("MWV2TabContainer.bs").make,{tab:b,thread:a,children:[h.jsx(d("MWV2ChatTabHeader.bs").make,{tab:b,thread:a}),f?h.jsx(c("MWChatEncryptedBackupsUpsellWrapper.react"),{children:e}):e]})})})})})})})})}i.displayName=i.name+" [from "+f.id+"]";b={make:i};function a(a){var b=a.tab;a=a.threadKeyDescriptor;var e=c("useReStore")(),f=a.clientThreadKey,g=a.threadKey;d("MWV2EnsureThatChatTabExists.bs").useHook(g,a.threadType);a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:g,tl:0})},[e,JSON.stringify(g)]));var j=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(f!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(e.table("threads").index("clientThreadKey")),{hd:f,tl:0});else return d("SortedAsyncIterable.bs").empty()},[e,JSON.stringify(f)]));a=a!==void 0?a:j!==void 0?j:void 0;if(a!==void 0)return h.jsx(i,{tab:b,thread:a});else return null}e=a;f=b;a=e;g.Impl=f;g.make=a}),98);
__d("FDSContextBannerQuickActionsIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497885"),20);b={icon:a};c=d("fbicon")._(h("477826"),20);e={icon:c};f=d("fbicon")._(h("485091"),20);a={icon:f};c=d("fbicon")._(h("481761"),20);f={icon:c};g.AddPeople=b;g.EditName=e;g.Members=a;g.Link=f}),98);
__d("MWContextBannerQuickActionsIcons.bs",["cr:808"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSContextBannerQuickActionsIcons$OR$FDSContextBannerQuickActionsIcons$requireCond=a=b("cr:808");g.AddPeople=a.AddPeople;g.EditName=a.EditName;g.Members=a.Members;g.Link=a.Link}),98);
__d("MWContextBannerQuickActions.bs",["fbt","CommunityMessagingEnableState.bs","GroupsCometChatImagePersonalizationDialog.entrypoint","JSResourceForInteraction","LS.bs","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSIssueSetThreadImageTask","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LsThreadType.bs","MDSCircleButton.react","MWAddMemberToGroupDialogTrigger.bs","MWCMBulkInviteDialog.entrypoint","MWCMEditChatInfoDialogTrigger.bs","MWCMIsAnyCMThread","MWCMLinkShare.bs","MWCMUseFolder.bs","MWContextBannerQuickActionsIcons.bs","MWEditThreadNameDialogTrigger.bs","MWGroupLimitContainer.bs","MWInboxInfoMembersSection.bs","MWInboxInfoQuickActionIcons.bs","MWInboxPersistedUIState","MWPBumpEntityKey","MWText.react","MWVerticalRhythm","MessengerJoinableModeType.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cometPushToast","promiseDone","react","useCometEntryPointDialog","useCometLazyDialog","useCommunityMembers","useCopyText","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a.threadInviteLink;a=c("bs_curry")._1(c("useCopyText"),{value:a});var b=a[2];a=i.useCallback(function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),c("bs_curry")._1(b),d("cometPushToast").cometPushSimpleToast(h._("__JHASH___XzDeRLuNLt__JHASH__"))},[b]);var e=h._("__JHASH__6ygymPD56Yw__JHASH__");return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").Link.icon,label:e,onPress:a,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:e})]})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};function a(a){var b=a.thread,e=c("MWCMIsAnyCMThread")(b.threadType),f=d("MWCMUseFolder.bs").useHook(b),g=c("useReStore")();a=i.useMemo(function(){if(f!==void 0&&e)return[f.enableState,d("LSCommunityBitOffset.bs").has(d("LSCommunityCapabilityBitOffset.bs").postThreadCreationActions,f)&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").communityMessagingChannelInvite,b),d("LSCommunityBitOffset.bs").has(d("LSCommunityCapabilityBitOffset.bs").postThreadCreationActions,f),f.fbGroupId];else return[void 0,!1,!1,c("bs_caml_int64").zero]},[b.threadKey]);var k=a[3],l=a[2],m=e&&c("bs_caml").i64_eq(c("bs_belt_Option").getWithDefault(a[0],d("CommunityMessagingEnableState.bs").enabled),d("CommunityMessagingEnableState.bs").disableRequested),n=c("useCometEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{}),o=n[0];n=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSection.bs").storageKey);var p=n[0];n=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{"class":"fluid",name:"MWLSGroupMembershipDialog"}).__setRef("MWContextBannerQuickActions.bs"));var q=n[0];n=i.useRef(null);var r=d("useCommunityMembers").useClearMemberList(),s=c("useCometEntryPointDialog")(c("GroupsCometChatImagePersonalizationDialog.entrypoint"),{}),t=s[0];s=h._("__JHASH__4Z6iwQf0KqP__JHASH__");var u=h._("__JHASH__wbjG_Ndmw32__JHASH__"),v=h._("__JHASH__723IGVyt9lZ__JHASH__"),w=i.useMemo(function(){return[e?h._("__JHASH__6ygymPD56Yw__JHASH__"):h._("__JHASH__5q5wieIjbh7__JHASH__"),e?h._("__JHASH__um66LGyp2bC__JHASH__"):h._("__JHASH___jI2RJo8mJV__JHASH__"),h._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[e]),x=w[2],y=w[1],z=w[0];w=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").threadNameCustomization,b);var A=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").threadDescriptionCustomization,b),B=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").addMember,b),C=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").threadDetailsShowChatInviteLink,b),D=c("bs_caml").i64_eq(b.threadType,d("LsThreadType.bs").discoverablePublicChat),E=i.useCallback(function(a,e){c("promiseDone")(g.runInTransaction(function(f){return c("LSIssueSetThreadImageTask")(b.threadKey,void 0,a,e.join(","),d("LS.bs").make(f))},"readwrite"))},[g,b.threadKey]);if(!e&&D&&C&&c("bs_caml").i64_eq(b.threadInvitesEnabledV2,d("MessengerJoinableModeType.bs").joinable)){D=b.threadInviteLink;C=D!==void 0?i.jsx(j,{threadInviteLink:D}):null}else C=null;return i.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[e&&!m?a[1]?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWInboxInfoQuickActionIcons.bs").Invite.icon,label:s,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return o({fbThreadId:c("bs_int64").to_string(b.threadKey),onClose:function(a){},parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},function(a){return a})},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:s})]}):i.jsx(d("MWCMLinkShare.bs").make,{thread:b,children:function(a,b){return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").Link.icon,label:z,onPress:b,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:z})]})}}):null,C,!e&&B?i.jsx(d("MWGroupLimitContainer.bs").make,{groupLimitReachedContent:null,thread:b,children:i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(d("MWAddMemberToGroupDialogTrigger.bs").make,{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").AddPeople.icon,label:z,onPress:function(b){return c("bs_curry")._1(a)},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:z})]})}):null,e&&w&&A&&!m?l?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWInboxInfoQuickActionIcons.bs").$$Image.icon,label:u,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_change_image");return t({groupID:c("bs_int64").to_string(k),initialThreadImage:{aspectRatio:1,url:b.threadPictureUrl},onClose:function(a){},threadID:c("bs_int64").to_string(b.threadKey),withBackButton:!1,withCloseButton:!0},function(a){a!=null&&E(a.emoji,a.gradient)})},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:u})]}):i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(d("MWCMEditChatInfoDialogTrigger.bs").make,{thread:b,children:function(a){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").EditName.icon,label:y,onPress:function(b){return c("bs_curry")._1(a)},size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:y})]}):null,!e&&w?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(d("MWEditThreadNameDialogTrigger.bs").make,{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").EditName.icon,label:y,onPress:function(b){return c("bs_curry")._1(a)},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:y})]}):null,e&&A&&!m&&l?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(d("MWCMEditChatInfoDialogTrigger.bs").make,{thread:b,children:function(a){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").EditName.icon,label:v,onPress:function(b){return c("bs_curry")._1(a)},size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:v})]}):i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf xni59qk",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").Members.icon,label:x,onPress:function(a){a={onClose:function(a){}};f!==void 0&&(a.folder=c("bs_caml_option").valFromOption(f));return q(a,function(a){if(e&&!p)return c("bs_curry")._1(r)})},ref:n,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:x})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.MWCopyLinkPublicChatQuickAction=f;g.make=a}),98);